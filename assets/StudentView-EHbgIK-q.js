const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/QSpinnerDots-55T99jjC.js","assets/index-Bw1AfG2u.js","assets/index-B0WZdqPn.css"])))=>i.map(i=>d[i]);
import{bP as Ue,bM as Ot,bS as Ce,bT as Dt,bJ as b,bR as tt,bQ as W,bO as Me,bX as Qt,bY as Tt,bz as O,bE as Xe,b$ as Z,cr as At,c1 as Ke,d6 as zt,c2 as we,bF as pe,ce as B,cf as d,c5 as a,c4 as o,ch as V,c3 as _,cg as w,cU as $,ci as M,c7 as T,ck as Be,c6 as u,cs as z,ct as ie,d7 as He,cc as Ne,cu as he,cv as H,cq as _e,d8 as xe,d9 as ke,cQ as ze,cR as be,cS as Pt,cP as Je,cd as Rt,_ as $e,cj as Et,da as Ve,db as ne,cW as Ye,cV as Ut}from"./index-Bw1AfG2u.js";import{a as Mt,k as Bt,Q as Pe,l as fe,m as ee,n as Re,o as me}from"./QDialog-Dn9VjDcM.js";import{o as Nt,c as Ft,Q as Ee,d as Wt,e as Gt,f as Le,g as jt}from"./use-checkbox-ClSmRWjY.js";import{Q as Xt,a as Kt,b as Ht,L as Jt,G as Yt,C as Ze}from"./GuestLoginDialog-6vHhwSmg.js";import{Q as Oe}from"./QChip-DM6F31S0.js";import{Q as Zt}from"./QBanner-DKpXtl0l.js";import{Q as eo}from"./QSpinnerDots-55T99jjC.js";import{Q as to}from"./QPage-CLbIAi8L.js";import{Q as oo,a as lo}from"./QLayout-BQ9g_6yu.js";import{Q as so,a as ao,b as no,i as De,e as io}from"./useGuestAuth-BRpWhMZD.js";import{u as ot,a as lt,_ as qe}from"./_plugin-vue_export-helper-DdgHTl4p.js";import{Q as ro,S as uo,R as co,E as vo,s as mo}from"./survey-DsL-eoSy.js";import{P as po}from"./PollResultBar-CeuqJwy4.js";import"./QSeparator-BcYH26Md.js";import"./pinia-CUn_f_AT.js";const fo={position:{type:String,default:"bottom-right",validator:l=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(l)},offset:{type:Array,validator:l=>l.length===2},expand:Boolean};function go(){const{props:l,proxy:{$q:m}}=Ue(),x=Ot(Dt,Ce);if(x===Ce)return console.error("QPageSticky needs to be child of QLayout"),Ce;const I=b(()=>{const C=l.position;return{top:C.indexOf("top")!==-1,right:C.indexOf("right")!==-1,bottom:C.indexOf("bottom")!==-1,left:C.indexOf("left")!==-1,vertical:C==="top"||C==="bottom",horizontal:C==="left"||C==="right"}}),p=b(()=>x.header.offset),c=b(()=>x.right.offset),f=b(()=>x.footer.offset),k=b(()=>x.left.offset),P=b(()=>{let C=0,D=0;const y=I.value,i=m.lang.rtl===!0?-1:1;y.top===!0&&p.value!==0?D=`${p.value}px`:y.bottom===!0&&f.value!==0&&(D=`${-f.value}px`),y.left===!0&&k.value!==0?C=`${i*k.value}px`:y.right===!0&&c.value!==0&&(C=`${-i*c.value}px`);const S={transform:`translate(${C}, ${D})`};return l.offset&&(S.margin=`${l.offset[1]}px ${l.offset[0]}px`),y.vertical===!0?(k.value!==0&&(S[m.lang.rtl===!0?"right":"left"]=`${k.value}px`),c.value!==0&&(S[m.lang.rtl===!0?"left":"right"]=`${c.value}px`)):y.horizontal===!0&&(p.value!==0&&(S.top=`${p.value}px`),f.value!==0&&(S.bottom=`${f.value}px`)),S}),Q=b(()=>`q-page-sticky row flex-center fixed-${l.position} q-page-sticky--${l.expand===!0?"expand":"shrink"}`);function q(C){const D=tt(C.default);return W("div",{class:Q.value,style:P.value},l.expand===!0?D:[W("div",D)])}return{$layout:x,getStickyContent:q}}const et=Me({name:"QPageSticky",props:fo,setup(l,{slots:m}){const{getStickyContent:x}=go();return()=>x(m)}}),yo=()=>W("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[W("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),W("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),bo=Me({name:"QRadio",props:{...ot,...Qt,...Mt,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(l,{slots:m,emit:x}){const{proxy:I}=Ue(),p=lt(l,I.$q),c=Tt(l,Nt),f=O(null),{refocusTargetEl:k,refocusTarget:P}=Ft(l,f),Q=b(()=>Xe(l.modelValue)===Xe(l.val)),q=b(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(l.disable===!0?" disabled":"")+(p.value===!0?" q-radio--dark":"")+(l.dense===!0?" q-radio--dense":"")+(l.leftLabel===!0?" reverse":"")),C=b(()=>{const h=l.color!==void 0&&(l.keepColor===!0||Q.value===!0)?` text-${l.color}`:"";return`q-radio__inner relative-position q-radio__inner--${Q.value===!0?"truthy":"falsy"}${h}`}),D=b(()=>(Q.value===!0?l.checkedIcon:l.uncheckedIcon)||null),y=b(()=>l.disable===!0?-1:l.tabindex||0),i=b(()=>{const h={type:"radio"};return l.name!==void 0&&Object.assign(h,{".checked":Q.value===!0,"^checked":Q.value===!0?"checked":void 0,name:l.name,value:l.val}),h}),S=Bt(i);function r(h){h!==void 0&&(Ke(h),P(h)),l.disable!==!0&&Q.value!==!0&&x("update:modelValue",l.val,h)}function E(h){(h.keyCode===13||h.keyCode===32)&&Ke(h)}function N(h){(h.keyCode===13||h.keyCode===32)&&r(h)}Object.assign(I,{set:r});const g=yo();return()=>{const h=D.value!==null?[W("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[W(Z,{class:"q-radio__icon",name:D.value})])]:[g];l.disable!==!0&&S(h,"unshift"," q-radio__native q-ma-none q-pa-none");const te=[W("div",{class:C.value,style:c.value,"aria-hidden":"true"},h)];k.value!==null&&te.push(k.value);const re=l.label!==void 0?At(m.default,[l.label]):tt(m.default);return re!==void 0&&te.push(W("div",{class:"q-radio__label q-anchor--skip"},re)),W("div",{ref:f,class:q.value,tabindex:y.value,role:"radio","aria-label":l.label,"aria-checked":Q.value===!0?"true":"false","aria-disabled":l.disable===!0?"true":void 0,onClick:r,onKeydown:E,onKeyup:N},te)}}}),st={radio:bo,checkbox:ro,toggle:Xt},ho=Object.keys(st);function Qe(l,m){if(typeof l=="function")return l;const x=l!==void 0?l:m;return I=>I[x]}const Te=Me({name:"QOptionGroup",props:{...ot,modelValue:{required:!0},options:{type:Array,validator:l=>l.every(zt),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:l=>ho.includes(l)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(l,{emit:m,slots:x}){const{proxy:{$q:I}}=Ue(),p=Array.isArray(l.modelValue);l.type==="radio"?p===!0&&console.error("q-option-group: model should not be array"):p===!1&&console.error("q-option-group: model should be array in your case");const c=lt(l,I),f=b(()=>st[l.type]),k=b(()=>Qe(l.optionValue,"value")),P=b(()=>Qe(l.optionLabel,"label")),Q=b(()=>Qe(l.optionDisable,"disable")),q=b(()=>l.options.map(i=>({val:k.value(i),name:i.name===void 0?l.name:i.name,disable:l.disable||Q.value(i),leftLabel:i.leftLabel===void 0?l.leftLabel:i.leftLabel,color:i.color===void 0?l.color:i.color,checkedIcon:i.checkedIcon,uncheckedIcon:i.uncheckedIcon,dark:i.dark===void 0?c.value:i.dark,size:i.size===void 0?l.size:i.size,dense:l.dense,keepColor:i.keepColor===void 0?l.keepColor:i.keepColor}))),C=b(()=>"q-option-group q-gutter-x-sm"+(l.inline===!0?" q-option-group--inline":"")),D=b(()=>{const i={role:"group"};return l.type==="radio"&&(i.role="radiogroup",l.disable===!0&&(i["aria-disabled"]="true")),i});function y(i){m("update:modelValue",i)}return()=>W("div",{class:C.value,...D.value},l.options.map((i,S)=>{const r=x["label-"+S]!==void 0?()=>x["label-"+S](i):x.label!==void 0?()=>x.label(i):void 0;return W("div",[W(f.value,{label:r===void 0?P.value(i):null,modelValue:l.modelValue,"onUpdate:modelValue":y,...q.value[S]},r)])}))}}),_o={class:"survey-container"},xo={class:"progress-section q-mb-lg"},ko={class:"text-caption text-grey-6"},wo={class:"survey-content"},qo={key:0,class:"survey-step"},So={key:1,class:"survey-step"},Io={key:2,class:"survey-step"},Co={key:3,class:"survey-step"},$o={key:4,class:"survey-step text-center"},Vo={class:"q-mb-lg"},Ae=5,Lo=we({__name:"SurveyDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue","submit","completed"],setup(l,{emit:m}){const x=l,I=m,p=Be(),c=O(1),f=O({satisfaction:"",recommendation:"",additionalEducation:"",feedback:""}),k=uo,P=co,Q=vo,q=b({get:()=>x.modelValue,set:N=>I("update:modelValue",N)}),C=b(()=>c.value/Ae),D=b(()=>{switch(c.value){case 1:return f.value.satisfaction!=="";case 2:return f.value.recommendation!=="";case 3:return f.value.additionalEducation!=="";case 4:return f.value.feedback.trim()!=="";default:return!0}}),y=()=>{c.value<Ae&&c.value++,c.value===5&&S()},i=()=>{c.value>1&&c.value--},S=()=>{I("submit",{...f.value}),p.notify({type:"positive",message:"ì„¤ë¬¸ì¡°ì‚¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!",position:"top",timeout:3e3}),I("completed")},r=()=>{q.value=!1,E()},E=()=>{c.value=1,f.value={satisfaction:"",recommendation:"",additionalEducation:"",feedback:""}};return pe(q,N=>{N||E()}),(N,g)=>(u(),B(Pe,{modelValue:q.value,"onUpdate:modelValue":g[4]||(g[4]=h=>q.value=h),persistent:"",maximized:""},{default:d(()=>[a(fe,{class:"survey-dialog"},{default:d(()=>[a(ee,{class:"bg-primary text-white text-center"},{default:d(()=>g[5]||(g[5]=[o("h4",{class:"q-my-md"},"ğŸ“ í•™ìŠµ ì™„ë£Œ ì„¤ë¬¸ì¡°ì‚¬",-1),o("p",{class:"q-mb-none"},"ê°•ì˜ ìˆ˜ê°•ì„ ì™„ë£Œí•˜ì…¨ìŠµë‹ˆë‹¤! ì†Œì¤‘í•œ ì˜ê²¬ì„ ë“¤ë ¤ì£¼ì„¸ìš”.",-1)])),_:1,__:[5]}),a(ee,{class:"q-pa-lg"},{default:d(()=>[o("div",_o,[o("div",xo,[a(Ee,{value:C.value,color:"primary",class:"q-mb-sm"},null,8,["value"]),o("div",ko,V(c.value)+"/"+V(Ae)+" ë‹¨ê³„",1)]),o("div",wo,[c.value===1?(u(),_("div",qo,[g[6]||(g[6]=o("h5",{class:"q-mb-md"},"1. ì „ë°˜ì ì¸ ê°•ì˜ ë§Œì¡±ë„",-1)),g[7]||(g[7]=o("p",{class:"text-grey-7 q-mb-lg"},"ì´ë²ˆ ê°•ì˜ì— ëŒ€í•œ ì „ë°˜ì ì¸ ë§Œì¡±ë„ë¥¼ í‰ê°€í•´ì£¼ì„¸ìš”.",-1)),a(Te,{modelValue:f.value.satisfaction,"onUpdate:modelValue":g[0]||(g[0]=h=>f.value.satisfaction=h),options:$(k),color:"primary",inline:""},null,8,["modelValue","options"])])):w("",!0),c.value===2?(u(),_("div",So,[g[8]||(g[8]=o("h5",{class:"q-mb-md"},"2. ì§€ì¸ ì¶”ì²œ ì˜í–¥",-1)),g[9]||(g[9]=o("p",{class:"text-grey-7 q-mb-lg"},"ì´ ê°•ì˜ë¥¼ ì§€ì¸ì´ë‚˜ ë™ë£Œì—ê²Œ ì¶”ì²œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",-1)),a(Te,{modelValue:f.value.recommendation,"onUpdate:modelValue":g[1]||(g[1]=h=>f.value.recommendation=h),options:$(P),color:"primary",inline:""},null,8,["modelValue","options"])])):w("",!0),c.value===3?(u(),_("div",Io,[g[10]||(g[10]=o("h5",{class:"q-mb-md"},"3. ì¶”ê°€ êµìœ¡ ì˜í–¥",-1)),g[11]||(g[11]=o("p",{class:"text-grey-7 q-mb-lg"}," AI ê´€ë ¨ ì¶”ê°€ êµìœ¡ì´ ìˆë‹¤ë©´ ì°¸ì—¬í•˜ì‹¤ ì˜í–¥ì´ ìˆìœ¼ì‹ ê°€ìš”? ",-1)),a(Te,{modelValue:f.value.additionalEducation,"onUpdate:modelValue":g[2]||(g[2]=h=>f.value.additionalEducation=h),options:$(Q),color:"primary",inline:""},null,8,["modelValue","options"])])):w("",!0),c.value===4?(u(),_("div",Co,[g[12]||(g[12]=o("h5",{class:"q-mb-md"},"4. ììœ  ì˜ê²¬",-1)),g[13]||(g[13]=o("p",{class:"text-grey-7 q-mb-lg"}," ê°•ì˜ì— ëŒ€í•œ ì˜ê²¬ì´ë‚˜ ê°œì„ ì‚¬í•­ì„ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”. ",-1)),a(so,{modelValue:f.value.feedback,"onUpdate:modelValue":g[3]||(g[3]=h=>f.value.feedback=h),type:"textarea",placeholder:"ê°•ì˜ì— ëŒ€í•œ ì˜ê²¬, ê°œì„ ì‚¬í•­, ë˜ëŠ” ì¶”ê°€ë¡œ ê¶ê¸ˆí•œ ì ì„ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”...",rows:"6",outlined:"",autogrow:""},null,8,["modelValue"])])):w("",!0),c.value===5?(u(),_("div",$o,[o("div",Vo,[a(Z,{name:"check_circle",size:"80px",color:"positive"})]),g[14]||(g[14]=o("h5",{class:"q-mb-md"},"ì„¤ë¬¸ì¡°ì‚¬ ì™„ë£Œ!",-1)),g[15]||(g[15]=o("p",{class:"text-grey-7"},[M(" ì†Œì¤‘í•œ ì˜ê²¬ì„ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤."),o("br"),M(" ë” ë‚˜ì€ ê°•ì˜ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ë…¸ë ¥í•˜ê² ìŠµë‹ˆë‹¤. ")],-1))])):w("",!0)])])]),_:1}),a(Re,{align:"right",class:"q-pa-lg"},{default:d(()=>[c.value>1&&c.value<5?(u(),B(T,{key:0,flat:"",label:"ì´ì „",onClick:i,class:"q-mr-sm"})):w("",!0),c.value<5?(u(),B(T,{key:1,label:c.value===4?"ì™„ë£Œ":"ë‹¤ìŒ",color:c.value===4?"positive":"primary",onClick:y,disable:!D.value},null,8,["label","color","disable"])):w("",!0),c.value===5?(u(),B(T,{key:2,flat:"",label:"ë‹«ê¸°",onClick:r,color:"primary"})):w("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Oo=qe(Lo,[["__scopeId","data-v-faec0bd2"]]),Do={key:0,class:"poll-vote"},Qo={class:"poll-header"},To={class:"title"},Ao={key:0,class:"subtitle"},zo={key:0,class:"options"},Po={key:1,class:"voted"},Ro=we({__name:"PollVote",props:{pollId:{}},setup(l){const m=l,x=Be(),I=z?ie(z):null,p=z?He(z):He(),c=O(null),f=O(null),k=O(!1);let P=null,Q=null,q=null;Ne(async()=>{if(!I){console.warn("âš ï¸ RTDB ë¯¸ì´ˆê¸°í™”: íˆ¬í‘œ ë¹„í™œì„±"),k.value=!1;return}console.log("ğŸ—³ï¸ PollVote mount:",{pollId:m.pollId,rtdbUrl:"https://slide-view-91a09-default-rtdb.asia-southeast1.firebasedatabase.app/",appDbUrl:z?.options?.databaseURL||null});try{P=he(H(I,`polls/${m.pollId}/meta`),i=>{c.value=i.val()||null,console.log("ğŸ—³ï¸ meta:",c.value)});const y=p.currentUser?.uid;console.log("ğŸ—³ï¸ auth uid:",y),y?Q=he(H(I,`polls/${m.pollId}/votes/${y}`),i=>{f.value=i.exists()?i.val():null,console.log("ğŸ—³ï¸ myVote:",f.value),k.value=!0}):k.value=!0}catch(y){console.error("ğŸ—³ï¸ RTDB êµ¬ë… ì‹¤íŒ¨:",y),k.value=!0}q=window.setTimeout(()=>{k.value||(k.value=!0)},2500)}),_e(()=>{P&&P(),Q&&Q(),q&&window.clearTimeout(q)});const C=b(()=>c.value?.open!==!1),D=async y=>{try{if(console.log("ğŸ—³ï¸ vote click:",{pollId:m.pollId,optionId:y}),!I)throw new Error("DB not ready");if(!C.value){x.notify({type:"warning",message:"í˜„ì¬ íˆ¬í‘œëŠ” ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."});return}const i=p.currentUser?.uid;if(!i){x.notify({type:"warning",message:"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."});return}const S=`polls/${m.pollId}/votes/${i}`;console.log("ğŸ—³ï¸ set path:",S),await ze(H(I,S),y);const r=await be(H(I,S));console.log("ğŸ—³ï¸ verify read:",{path:S,value:r.val()}),x.notify({type:"positive",message:"íˆ¬í‘œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."})}catch(i){console.error("íˆ¬í‘œ ì‹¤íŒ¨:",i),x.notify({type:"negative",message:i?.message||"íˆ¬í‘œ ì‹¤íŒ¨"})}};return(y,i)=>c.value?(u(),_("div",Do,[o("div",Qo,[o("div",To,V(c.value?.question||"íˆ¬í‘œ"),1),c.value?.description?(u(),_("div",Ao,V(c.value?.description),1)):w("",!0)]),k.value?(u(),_("div",zo,[(u(!0),_(xe,null,ke(c.value?.options||{},(S,r)=>(u(),_("div",{key:r,class:"option-item"},[a(T,{unelevated:"",color:"primary",class:"full-width q-mb-sm",label:S,disable:!!f.value,onClick:E=>D(r)},null,8,["label","disable","onClick"])]))),128))])):w("",!0),f.value?(u(),_("div",Po,"íˆ¬í‘œ ì™„ë£Œ: "+V(c.value?.options?.[f.value]),1)):w("",!0)])):w("",!0)}}),Eo=qe(Ro,[["__scopeId","data-v-03dfac5f"]]),Uo={class:"poll-word"},Mo={class:"title"},Bo={key:0,class:"loading"},No={key:1,class:"cloud"},Fo=we({__name:"PollResultWord",props:{pollId:{}},setup(l){const m=l,x=z?ie(z):null,I=O(null),p=O({}),c=O(!1);let f=null,k=null;Ne(()=>{x&&(f=he(H(x,`polls/${m.pollId}/meta`),q=>{I.value=q.val()||null,c.value=!0}),k=he(H(x,`polls/${m.pollId}/tally`),q=>{p.value=q.val()||{}}))}),_e(()=>{f&&f(),k&&k()});const P=b(()=>{const q=Object.values(p.value||{});return q.length?Math.max(...q):0}),Q=q=>{const y=P.value||1,i=Math.round(12+24*(q/y)),S=.5+.5*(q/y);return{fontSize:i+"px",opacity:S.toFixed(2),color:`hsl(210, 70%, ${Math.round(30+30*(q/y))}%)`}};return(q,C)=>(u(),_("div",Uo,[o("div",Mo,V(I.value?.question||"íˆ¬í‘œ ê²°ê³¼"),1),c.value?(u(),_("div",No,[(u(!0),_(xe,null,ke(I.value?.options||{},(D,y)=>(u(),_("span",{key:y,class:"word",style:Pt(Q(p.value[y]||0))},V(D),5))),128))])):(u(),_("div",Bo,"ë¡œë”© ì¤‘..."))]))}}),Wo=qe(Fo,[["__scopeId","data-v-604aff85"]]),Go={class:"q-pa-md"},jo={class:"course-info q-mb-lg"},Xo={class:"text-caption text-grey-7 q-mt-sm"},Ko={class:"text-caption text-grey-7"},Ho={class:"q-mt-lg"},Jo={class:"text-caption text-grey-7"},Yo={class:"q-mt-lg"},Zo={class:"row q-col-gutter-sm"},el={class:"col-6"},tl={class:"text-h6 text-primary"},ol={class:"col-6"},ll={class:"text-h6 text-positive"},sl={class:"q-mt-sm"},al={class:"text-caption text-grey-7 q-mt-xs"},nl={key:0,class:"login-required"},il={class:"text-center q-pa-xl"},rl={class:"row justify-center q-gutter-md"},ul={class:"row items-center q-mb-sm"},cl={class:"col"},dl={class:"text-h5 text-weight-bold"},vl={class:"text-subtitle1 text-grey-7"},ml={class:"col-auto"},pl={class:"row items-center q-gutter-sm"},fl={key:0,class:"col-auto"},gl={key:1,class:"col-auto"},yl={key:2,class:"col-auto"},bl={key:3,class:"col-auto"},hl=["src","alt"],_l={class:"col-auto"},xl={class:"slide-container"},kl={key:0,class:"slide-viewer-container"},wl=["src"],ql={class:"quiz-card"},Sl={class:"text-subtitle1 q-mb-sm"},Il={class:"row q-col-gutter-md options-grid"},Cl={key:0,class:"q-mt-md q-pa-sm bg-grey-1 rounded-borders"},$l={key:0,class:"text-positive text-weight-bold q-mb-xs"},Vl={class:"text-body2"},Ll={key:0,class:"q-mb-xs"},Ol=["innerHTML"],Dl={key:1,class:"loading-state"},Ql={class:"fixed-navigation-bar"},Tl={class:"row items-center justify-center q-pa-sm"},Al={class:"col-auto q-mr-lg"},zl={class:"col-auto q-mx-lg"},Pl={class:"text-center"},Rl={class:"text-h6 text-weight-bold"},El={class:"text-caption text-grey-7"},Ul={key:0,class:"col-auto q-mx-lg"},Ml={class:"col-auto q-ml-lg"},Bl={class:"q-ml-sm text-h6"},Nl={class:"text-body1 q-mb-md"},Fl=we({__name:"StudentView",setup(l){const m=Be(),x=Rt(),I=Et(),p=ao(),{user:c,isAuthenticated:f,displayName:k,photoURL:P,logout:Q,initAuth:q,signInWithGoogle:C}=Je(),{userRole:D}=Je(),{guestUser:y,isGuestAuthenticated:i}=no(),S=O(!0),r=O(0),E=O([]),N=O(!1),g=O(!1),h=O(!1),te=O(!1),re=O(!1),at=O("í•™ìŠµ ì¢…ë£Œ"),ue=O(!1),ge=O(localStorage.getItem("requireStudentLogin")!=="false"),G=b(()=>x.params.courseId),U=b(()=>J.value.length),J=b(()=>{if(p.lessons.length===0)return[];const t=[];return p.lessons.forEach((e,s)=>{if(p.isChapterLocked(s)){console.log(`ğŸ”’ Chapter ${s}ê°€ ì ê²¨ìˆì–´ì„œ ê±´ë„ˆëœ€`);return}for(let n=0;n<e.slides;n++){const v=`${s}-${n}`,F=!!Fe[v];if(p.isSlideLocked(s,n))if(F)console.log(`ğŸ”“ Poll ìŠ¬ë¼ì´ë“œ(${v})ëŠ” ì ê¸ˆ ë¬´ì‹œí•˜ê³  í‘œì‹œ`);else{console.log(`ğŸ”’ Slide ${v}ê°€ ì ê²¨ìˆì–´ì„œ ê±´ë„ˆëœ€`);continue}const L=e.slideTitles?.[n]||`ìŠ¬ë¼ì´ë“œ ${t.length+1}`;t.push({index:t.length,title:L,fileName:`slide-${s}-${n}.md`,lessonIndex:s,slideIndex:n})}}),t}),ce=b(()=>p.lessons.length===0||r.value>=U.value?"ìŠ¬ë¼ì´ë“œ ë¡œë”© ì¤‘...":J.value[r.value]?.title||`ìŠ¬ë¼ì´ë“œ ${r.value+1}`),Se=b(()=>{if(p.lessons.length===0||r.value>=U.value)return console.log("ğŸš« ìŠ¬ë¼ì´ë“œ URL ìƒì„± ì‹¤íŒ¨:",{hasLessons:p.lessons.length>0,currentIndex:r.value,totalSlides:U.value}),null;const t=J.value[r.value];if(!t)return console.warn("ğŸš« ìŠ¬ë¼ì´ë“œ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ:",r.value),null;const e=t.fileName.replace(".md",".html"),s=`/generated/slides/${e}`;return console.log("ğŸ”— ìŠ¬ë¼ì´ë“œ URL ìƒì„±:",{index:r.value,fileName:t.fileName,slideFileName:e,url:s}),s}),nt=()=>{console.log("âœ… ìŠ¬ë¼ì´ë“œ ë¡œë“œ ì™„ë£Œ:",{index:r.value,title:ce.value,url:Se.value}),setTimeout(()=>{try{const t=document.querySelector(".slide-viewer");t&&t.contentWindow&&t.contentDocument&&(t.contentDocument.addEventListener("click",async e=>{const s=e.target;if(s.classList.contains("copy-button")){const n=s.closest(".code-block-wrapper");if(n){const v=n.querySelector("pre code");v&&it(v.textContent||"",s)}return}s.closest(".code-block-wrapper")||s.closest("pre")||s.closest("code")}),console.log("âœ… iframe ë‚´ë¶€ ë³µì‚¬ ê¸°ëŠ¥ ë° ë„¤ë¹„ê²Œì´ì…˜ ê¸°ëŠ¥ ì£¼ì… ì™„ë£Œ"))}catch(t){console.log("âš ï¸ iframe ë‚´ë¶€ ê¸°ëŠ¥ ì£¼ì… ì‹¤íŒ¨ (CORS ì •ì±…):",t)}},100),wt().catch(()=>{}),oe.value&&qt().catch(()=>{}),$t().catch(()=>{});try{R.value&&de.value?N.value=!0:N.value=!1}catch{}},it=async(t,e)=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(t);else{const v=document.createElement("textarea");v.value=t,v.style.position="fixed",v.style.top="0",v.style.left="0",v.style.width="2em",v.style.height="2em",v.style.padding="0",v.style.border="none",v.style.outline="none",v.style.boxShadow="none",v.style.background="transparent",document.body.appendChild(v),v.focus(),v.select(),document.execCommand("copy"),document.body.removeChild(v)}const s=e.textContent,n=e.style.backgroundColor;e.textContent="ë³µì‚¬ë¨!",e.style.backgroundColor="#10b981",setTimeout(()=>{e.textContent=s,e.style.backgroundColor=n},1e3),m.notify({type:"positive",message:"ì½”ë“œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.",position:"top",timeout:1e3})}catch(s){console.error("í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:",s),m.notify({type:"negative",message:"ì½”ë“œ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",position:"top",timeout:2e3})}},rt=b(()=>U.value===0?0:E.value.length/U.value),Y=b(()=>r.value!==U.value-1?!1:E.value.includes(r.value));b(()=>p.lessons.some((t,e)=>{if(p.isChapterLocked(e))return!0;for(let s=0;s<t.slides;s++)if(p.isSlideLocked(e,s))return!0;return!1}));const Fe={"1-2":{pollId:"poll-1-2",result:"bar"},"1-3":{pollId:"poll-1-3",result:"bar"},"1-4":{pollId:"poll-1-4",result:"bar"},"1-5":{pollId:"poll-1-5",result:"bar"},"1-6":{pollId:"poll-1-6",result:"bar"}},le=O(null),de=b(()=>D.value==="student"),oe=b(()=>D.value==="admin"),ut=b(()=>{const t=J.value[r.value];return t?`${t.lessonIndex}-${t.slideIndex}`:""}),R=b(()=>le.value||Fe[ut.value]);pe([r,J],async()=>{try{const t=J.value[r.value];if(!t){le.value=null;return}const e=`/slides/slide-${t.lessonIndex}-${t.slideIndex}.md`,s=await fetch(e,{cache:"no-store"});if(!s.ok){le.value=null;return}const n=(await s.text()).toLowerCase();if(n.trim().startsWith("@poll")){const v=/@word|word\s*cloud|ì›Œë“œ/.test(n);le.value={pollId:`poll-${t.lessonIndex}-${t.slideIndex}`,result:v?"word":"bar"}}else le.value=null}catch{le.value=null}},{immediate:!0});const ct=async()=>{try{console.log("ğŸ” í•™ìƒ ëª¨ë“œ - ì§ì ‘ ë¡œê·¸ì¸ ì‹œì‘..."),await C(),console.log("âœ… í•™ìƒ ëª¨ë“œ - ì§ì ‘ ë¡œê·¸ì¸ ì™„ë£Œ")}catch(t){console.error("âŒ í•™ìƒ ëª¨ë“œ - ì§ì ‘ ë¡œê·¸ì¸ ì‹¤íŒ¨:",t),m.notify({type:"negative",message:"ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",position:"top",timeout:3e3})}},dt=()=>{h.value=!0},vt=t=>{console.log("ğŸ­ ê²ŒìŠ¤íŠ¸ ë¡œê·¸ì¸ ì„±ê³µ:",t),h.value=!1,m.notify({type:"positive",message:"ê²ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ ë¡œê·¸ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!",position:"top",timeout:2e3})},mt=()=>{h.value=!1,g.value=!0},We=async()=>{if(console.log("ğŸ“ í•™ìƒ ëª¨ë“œ - ê°•ì˜ ë¡œë“œ ì‹œì‘:",G.value),!G.value){console.warn("ğŸš« ê°•ì˜ IDê°€ ì—†ìŠµë‹ˆë‹¤."),m.notify({type:"negative",message:"ê°•ì˜ IDê°€ ì—†ìŠµë‹ˆë‹¤.",position:"top"});return}try{await p.initializeCourseOutline();const t=G.value||"ai-workshop";p.setCurrentCourseId(t);const e=await p.loadLockStatusFromFirestore(t);console.log("ğŸ”„ Firestore ì ê¸ˆ ë¡œë“œ ê²°ê³¼:",e),p.subscribeLockStatus(t),console.log("ğŸ“š ê°•ì˜ ë°ì´í„° ë¡œë“œ ì™„ë£Œ:",{lessonsCount:p.lessons.length,lessons:p.lessons.slice(0,3)});const s=parseInt(x.query.slide)||0;J.value.length>0?s>=0&&s<J.value.length?r.value=s:(r.value=0,console.log("ğŸ”’ URLì˜ ìŠ¬ë¼ì´ë“œ ì¸ë±ìŠ¤ê°€ ìœ íš¨í•˜ì§€ ì•Šì•„ ì²« ë²ˆì§¸ ìŠ¬ë¼ì´ë“œë¡œ ì´ë™")):(r.value=0,console.log("ğŸ”’ ì ê¸ˆ í•´ì œëœ ìŠ¬ë¼ì´ë“œê°€ ì—†ìŒ")),console.log("ğŸ“„ í˜„ì¬ ìŠ¬ë¼ì´ë“œ ì¸ë±ìŠ¤:",r.value),_t()}catch(t){console.error("âŒ ê°•ì˜ ë¡œë“œ ì‹¤íŒ¨:",t),m.notify({type:"negative",message:"ê°•ì˜ ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",position:"top"})}},j=t=>{t>=0&&t<U.value?(r.value=t,pt()):console.warn(`ğŸš« ìŠ¬ë¼ì´ë“œ ì¸ë±ìŠ¤ ${t}ê°€ ë²”ìœ„ë¥¼ ë²—ì–´ë‚¨ (0-${U.value-1})`)},pt=()=>{console.log("ğŸ”„ ë¼ìš°íŠ¸ ì—…ë°ì´íŠ¸:",{courseId:G.value,slideIndex:r.value,path:`/study/${G.value}`,query:{slide:r.value.toString()}}),I.push({path:`/study/${G.value}`,query:{slide:r.value.toString()}})},Ge=async()=>{De()&&(ue.value=!0)},ft=()=>{try{window.close(),setTimeout(()=>{m.notify({type:"info",message:"ë¸Œë¼ìš°ì € íƒ­ì„ ì§ì ‘ ë‹«ì•„ì£¼ì„¸ìš”.",position:"top",timeout:5e3})},1e3)}catch(t){console.error("ë¸Œë¼ìš°ì € ì¢…ë£Œ ì‹¤íŒ¨:",t),m.notify({type:"info",message:"ë¸Œë¼ìš°ì € íƒ­ì„ ì§ì ‘ ë‹«ì•„ì£¼ì„¸ìš”.",position:"top",timeout:5e3})}},gt=async()=>{try{ue.value=!1;const t=k.value||y.value?.name||"ì‚¬ìš©ì",e=c.value?.email||y.value?.email||"",s=i.value;await Q(),I.push({path:"/logout",query:{name:t,email:e,isGuest:s.toString()}})}catch(t){console.error("ë¡œê·¸ì•„ì›ƒ ì˜¤ë¥˜:",t),m.notify({type:"negative",message:"ë¡œê·¸ì•„ì›ƒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",position:"top"})}},yt=async()=>{if(r.value!==U.value-1){m.notify({type:"warning",message:"ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œì—ì„œë§Œ í•™ìŠµ ì™„ë£Œë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",position:"top"});return}const t=r.value;if(Y.value){const e=E.value.filter(s=>s!==t);E.value=e}else E.value.push(t),te.value=!0;xt(),m.notify({type:Y.value?"positive":"info",message:Y.value?"í•™ìŠµ ì™„ë£Œ!":"í•™ìŠµ ì™„ë£Œ ì·¨ì†Œ",position:"top"})},bt=async t=>{console.log("ì„¤ë¬¸ì¡°ì‚¬ ë°ì´í„°:",t);try{const e=await mo.submitSurvey(t);if(!e.success)throw new Error(e.message);const s=`survey-data-${G.value}`,n={...t,submittedAt:new Date().toISOString(),courseId:G.value,userId:c.value?.uid,userEmail:c.value?.email};localStorage.setItem(s,JSON.stringify(n));const v=c.value?.email||y.value?.email,F=c.value?.displayName||y.value?.name||"í•™ìŠµì";if(v)try{const L=await io.sendLearningCompletionEmail(v,F,"AI Workshop ê°•ì˜");L.success?m.notify({type:"positive",message:"í•™ìŠµ ì™„ë£Œ! ì¶•í•˜ ì´ë©”ì¼ì´ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.",position:"top"}):(console.warn("ì´ë©”ì¼ ì „ì†¡ ì‹¤íŒ¨:",L.message),m.notify({type:"warning",message:"ì´ë©”ì¼ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: "+L.message,position:"top"}))}catch(L){console.error("ì´ë©”ì¼ ì „ì†¡ ì˜¤ë¥˜:",L),m.notify({type:"negative",message:"ì´ë©”ì¼ ì „ì†¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",position:"top"})}else console.warn("ì´ë©”ì¼ ì£¼ì†Œê°€ ì—†ì–´ì„œ ì´ë©”ì¼ì„ ì „ì†¡í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");m.notify({type:"positive",message:"ì„¤ë¬¸ì¡°ì‚¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!",position:"top"})}catch(e){console.error("ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ ì‹¤íŒ¨:",e),m.notify({type:"negative",message:"ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",position:"top"})}},ht=()=>{console.log("ì„¤ë¬¸ì¡°ì‚¬ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."),De()&&(ue.value=!0)},_t=()=>{try{const t=`completed-slides-${G.value}`,e=localStorage.getItem(t);e&&(E.value=JSON.parse(e))}catch(t){console.error("ì™„ë£Œëœ ìŠ¬ë¼ì´ë“œ ë¡œë“œ ì‹¤íŒ¨:",t),E.value=[]}},xt=()=>{try{const t=`completed-slides-${G.value}`;localStorage.setItem(t,JSON.stringify(E.value))}catch(t){console.error("ì™„ë£Œëœ ìŠ¬ë¼ì´ë“œ ì €ì¥ ì‹¤íŒ¨:",t)}},kt=t=>new Date(t).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),Ie=O(!1),je=t=>{if(p.lessons.length!==0)switch(t.key){case"ArrowRight":case"ArrowDown":case"PageDown":case" ":t.preventDefault(),j(r.value+1);break;case"ArrowLeft":case"ArrowUp":case"PageUp":t.preventDefault(),j(r.value-1);break;case"Home":t.preventDefault(),j(0);break;case"End":t.preventDefault(),j(U.value-1);break;case"?":t.preventDefault(),Ie.value=!Ie.value;break}},wt=async()=>{try{const t=R.value;if(!t)return;const e=z?ie(z):null;if(!e)return;const{getAuth:s}=await $e(async()=>{const{getAuth:se}=await import("./QSpinnerDots-55T99jjC.js").then(ye=>ye.i);return{getAuth:se}},__vite__mapDeps([0,1,2])),n=s(z).currentUser?.uid;if(!n)return;const v=de.value?`polls/${t.pollId}/votes/${n}`:`polls/${t.pollId}/userVotes/${n}`,F=await be(H(e,v));if(!F.exists())return;const L=F.val(),X=document.querySelector(".slide-viewer");if(!X||!X.contentWindow)return;typeof L=="string"&&/^\d+$/.test(L)?X.contentWindow.postMessage({type:"poll-state",pollId:t.pollId,optionId:String(L)},"*"):L&&X.contentWindow.postMessage({type:"poll-state",pollId:t.pollId,text:String(L)},"*")}catch(t){console.warn("âš ï¸ poll ìƒíƒœ ë™ê¸°í™” ì‹¤íŒ¨:",t)}},qt=async()=>{try{if(!oe.value)return;const t=R.value;if(!t)return;const e=z?ie(z):null;if(!e)return;const s=H(e,`polls/${t.pollId}/meta`),v=(await be(s)).val()||{};(!v.question||String(v.question).trim()==="")&&(await ze(s,{...v,question:ce.value}),console.log("ğŸ“ meta.question ë³´ê°•:",t.pollId,ce.value))}catch(t){console.warn("âš ï¸ meta.question ë³´ê°• ì‹¤íŒ¨:",t)}};Ne(async()=>{q(),await We(),document.addEventListener("keydown",je);const t=z?ie(z):null,e=async s=>{try{const n=s.data||{};if(n&&typeof n.type=="string"){if(n.type==="slide-next"){j(r.value+1);return}else if(n.type==="slide-prev"){j(r.value-1);return}else if(n.type==="slide-first"){j(0);return}else if(n.type==="slide-last"){j(U.value-1);return}}if(!n||n.type!=="poll-vote"||!t||D.value!=="student")return;const{pollId:v,optionId:F,text:L}=n,X=(await $e(async()=>{const{getAuth:ae}=await import("./QSpinnerDots-55T99jjC.js").then(K=>K.i);return{getAuth:ae}},__vite__mapDeps([0,1,2]))).getAuth(z).currentUser?.uid;if(!X||!v)return;const se=H(t,`polls/${v}/votes/${X}`);if((await be(se)).exists())return;const ve=L||String(F);await ze(se,ve),console.log("ğŸ—³ï¸ parent saved:",{pollId:v,value:ve})}catch(n){console.warn("ğŸ—³ï¸ parent save failed:",n)}};window.addEventListener("message",e),_e(()=>{window.removeEventListener("message",e)})}),_e(()=>{document.removeEventListener("keydown",je)}),pe(()=>x.params.courseId,t=>{t&&We()},{immediate:!0}),pe(()=>x.query.slide,t=>{if(t&&p.lessons.length>0){const e=parseInt(t)||0;r.value=Math.min(e,U.value-1)}}),pe(()=>p.lessons.map(t=>t?.slides).join(","),async()=>{try{const t=G.value||"ai-workshop";await p.loadLockStatusFromFirestore(t),console.log("ğŸ”’ StudentView: lessons ê°±ì‹  â†’ Firestore ì ê¸ˆ ì¬ì ìš© ì™„ë£Œ")}catch(t){console.warn("âš ï¸ StudentView: Firestore ì ê¸ˆ ì¬ì ìš© ì‹¤íŒ¨(ë¬´ì‹œ ê°€ëŠ¥):",t)}},{immediate:!1});const St=t=>{const e=`/#/poll-result?pollId=${encodeURIComponent(t)}`;window.open(e,"_blank","noopener,noreferrer,width=520,height=420")},It=async t=>{try{if(!oe.value||!await m.dialog({title:"ê²°ê³¼ ì´ˆê¸°í™”",message:`í•´ë‹¹ íˆ¬í‘œì˜ ë‚˜ì˜ ì„ íƒ(LocalStorage)ê³¼ RTDBì˜ í‘œê¸°ë¥¼ ì‚­ì œí• ê¹Œìš”?
ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`,cancel:!0,ok:{label:"ì´ˆê¸°í™”",color:"negative"}}).onOk(()=>!0).onCancel(()=>!1))return;try{Object.keys(localStorage).filter(n=>n.toLowerCase().includes("poll")).forEach(n=>localStorage.removeItem(n))}catch{}const s=z?ie(z):null;if(s){const{getAuth:n}=await $e(async()=>{const{getAuth:F}=await import("./QSpinnerDots-55T99jjC.js").then(L=>L.i);return{getAuth:F}},__vite__mapDeps([0,1,2])),v=n(z).currentUser?.uid;v&&await Ut(H(s,`polls/${t}/userVotes/${v}`)).catch(()=>{})}m.notify({type:"positive",message:"íˆ¬í‘œ ê²°ê³¼ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.",position:"top"});try{document.querySelector(".slide-viewer")?.contentWindow?.postMessage({type:"poll-state",pollId:t,optionId:""},"*")}catch{}}catch{m.notify({type:"negative",message:"ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",position:"top"})}},A=O({visible:!1,question:"",options:[],correctIndex:null,answerText:"",lastChoice:null,isOX:!1,revealed:!1}),Ct=()=>{try{const t=document.querySelector(".slide-viewer");if(!t||!t.contentDocument)return null;const e=t.contentDocument;if(!e.body.classList.contains("quiz-slide"))return null;const v=(e.querySelector(".quiz-question")?.textContent||"").trim(),F=Array.from(e.querySelectorAll(".quiz-option")).map(K=>(K.textContent||"").replace(/^\d+\.\s*/,"").trim()),L=(e.getElementById("quiz-answer-data")?.textContent||"").trim(),X=F.map(K=>K.replace(/\s+/g,"")),se=X[0]??"",ye=X[1]??"",ve=X.length===2&&(/^(ë§ë‹¤|ê·¸ë ‡ë‹¤|O)$/i.test(se)||/^(ì•„ë‹ˆë‹¤|ì•„ë‹ˆì˜¤|ê·¸ë ‡ì§€ì•Šë‹¤|X)$/i.test(ye))||/ì •ë‹µ\s*[:\-â€“]?\s*[OX]/i.test(L);let ae=null;if(ve){const K=/ì •ë‹µ\s*[:\-â€“]?\s*O/i.test(L),Lt=/ì •ë‹µ\s*[:\-â€“]?\s*X/i.test(L);K?ae=1:Lt&&(ae=2)}else{const K=L.match(/(^|\D)(\d+)(?=\D|$)/);ae=K?Number(K[2]):null}return{question:v,options:F,correctIndex:ae,answerText:L,isOX:!!ve}}catch{return null}},$t=async()=>{const t=Ct();if(!t||!t.question||t.options.length===0){A.value={visible:!1,question:"",options:[],correctIndex:null,answerText:"",lastChoice:null,isOX:!1,revealed:!1};return}A.value={visible:!0,question:t.question,options:t.options,correctIndex:t.correctIndex,answerText:t.answerText,lastChoice:null,isOX:t.isOX,revealed:!1}},Vt=t=>{A.value.visible&&(A.value.lastChoice=t,A.value.revealed=!0)};return(t,e)=>(u(),B(oo,{view:"hHh LpR fFf"},{default:d(()=>[!ge.value||$(f)||$(i)?(u(),B(Kt,{key:0,modelValue:S.value,"onUpdate:modelValue":e[0]||(e[0]=s=>S.value=s),"show-if-above":"",bordered:"",class:"bg-grey-1",width:300},{default:d(()=>[a(Ht,{class:"fit"},{default:d(()=>[o("div",Go,[e[24]||(e[24]=o("div",{class:"text-h6 text-weight-bold q-mb-md"},"ğŸ“š AI Workshop ê°•ì˜",-1)),o("div",jo,[e[19]||(e[19]=o("div",{class:"text-subtitle2 text-weight-medium q-mb-sm"},"ğŸ“– ê°•ì˜ ì •ë³´",-1)),a(fe,{flat:"",bordered:""},{default:d(()=>[a(ee,null,{default:d(()=>[e[18]||(e[18]=o("div",{class:"text-body2"}," AI Workshop ê°•ì˜ì…ë‹ˆë‹¤. ë§ˆí¬ë‹¤ìš´ ìŠ¬ë¼ì´ë“œë¥¼ HTMLë¡œ ë³€í™˜í•˜ì—¬ í•™ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ",-1)),o("div",Xo,[a(Z,{name:"person",size:"xs"}),e[17]||(e[17]=M(" AI Workshop ",-1))]),o("div",Ko,[a(Z,{name:"schedule",size:"xs"}),M(" "+V(kt(new Date().toISOString())),1)])]),_:1,__:[18]})]),_:1})]),e[25]||(e[25]=o("div",{class:"text-subtitle2 text-weight-medium q-mb-sm"},"ğŸ“– ê°•ì˜ ëª©ì°¨",-1)),a(Wt,null,{default:d(()=>[(u(!0),_(xe,null,ke(J.value,(s,n)=>(u(),B(Gt,{key:n,clickable:"",active:n===r.value,onClick:v=>j(n),class:"q-mb-sm"},{default:d(()=>[a(Le,{avatar:""},{default:d(()=>[a(Z,{name:(n===r.value,"slideshow"),color:n===r.value?"primary":"grey",size:"sm"},null,8,["name","color"])]),_:2},1024),a(Le,null,{default:d(()=>[a(jt,null,{default:d(()=>[M(V(s.title),1)]),_:2},1024)]),_:2},1024),a(Le,{side:""},{default:d(()=>[E.value.includes(n)?(u(),B(Z,{key:0,name:"check_circle",color:"positive",size:"sm"})):w("",!0)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1}),o("div",Ho,[e[20]||(e[20]=o("div",{class:"text-subtitle2 text-weight-medium q-mb-sm"},"ğŸ“Š í•™ìŠµ ì§„í–‰ë¥ ",-1)),a(Ee,{value:rt.value,color:"primary",class:"q-mb-sm"},null,8,["value"]),o("div",Jo,V(E.value.length)+" / "+V(U.value)+" ìŠ¬ë¼ì´ë“œ ì™„ë£Œ ",1)]),o("div",Yo,[e[23]||(e[23]=o("div",{class:"text-subtitle2 text-weight-medium q-mb-sm"},"ğŸ“ˆ í•™ìŠµ í†µê³„",-1)),a(fe,{flat:"",bordered:""},{default:d(()=>[a(ee,null,{default:d(()=>[o("div",Zo,[o("div",el,[o("div",tl,V(U.value),1),e[21]||(e[21]=o("div",{class:"text-caption"},"ì „ì²´ ìŠ¬ë¼ì´ë“œ",-1))]),o("div",ol,[o("div",ll,V(Y.value?1:0),1),e[22]||(e[22]=o("div",{class:"text-caption"},"í•™ìŠµ ì™„ë£Œ",-1))])]),o("div",sl,[a(Ee,{value:Y.value?1:0,color:"positive",class:"q-mt-xs"},null,8,["value"]),o("div",al,V(Y.value?"í•™ìŠµ ì™„ë£Œ!":"ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œì—ì„œ ì™„ë£Œ ê°€ëŠ¥"),1)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["modelValue"])):w("",!0),a(lo,null,{default:d(()=>[ge.value&&!$(f)&&!$(i)?(u(),_("div",nl,[o("div",il,[a(Z,{name:"school",size:"100px",color:"primary",class:"q-mb-lg"}),e[26]||(e[26]=o("div",{class:"text-h4 text-weight-bold q-mb-md"},"í•™ìŠµì„ ìœ„í•´ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤",-1)),e[27]||(e[27]=o("div",{class:"text-body1 text-grey-7 q-mb-lg"}," AI Workshop ê°•ì˜ë¥¼ ìˆ˜ê°•í•˜ë ¤ë©´ Google ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ê±°ë‚˜ ê²ŒìŠ¤íŠ¸ ëª¨ë“œë¥¼ ì´ìš©í•˜ì„¸ìš”. ",-1)),o("div",rl,[a(T,{color:"primary",icon:"login",label:"Googleë¡œ ë¡œê·¸ì¸",size:"lg",onClick:ct}),a(T,{color:"orange",icon:"person",label:"ê²ŒìŠ¤íŠ¸ ëª¨ë“œ",size:"lg",onClick:dt})])])])):(u(),B(to,{key:1,class:"q-pa-sm"},{default:d(()=>[o("div",ul,[o("div",cl,[o("div",dl,V($(p).lessons.length>0?"AI Workshop ê°•ì˜":"ê°•ì˜ ë¡œë”© ì¤‘..."),1),o("div",vl,V(ce.value),1)]),o("div",ml,[o("div",pl,[$(f)?(u(),_("div",fl,[a(Oe,{color:"secondary","text-color":"white",icon:"person",label:$(k)},null,8,["label"])])):$(i)?(u(),_("div",gl,[a(Oe,{color:"orange","text-color":"white",icon:"person",label:$(y)?.name||"ê²ŒìŠ¤íŠ¸"},null,8,["label"])])):w("",!0),$(De)()?(u(),_("div",yl,[a(T,{flat:"",round:"",dense:"",icon:"logout",color:"grey-7",onClick:Ge},{default:d(()=>[a(me,null,{default:d(()=>e[28]||(e[28]=[M("í•™ìŠµ ì¢…ë£Œ",-1)])),_:1,__:[28]})]),_:1})])):ge.value&&($(f)||$(i))?(u(),_("div",bl,[a(T,{flat:"",round:"",dense:"",icon:$(P)?void 0:"logout",color:"grey-7",onClick:Ge},{default:d(()=>[$(P)?(u(),B(Ve,{key:0,size:"24px",class:"q-mr-xs"},{default:d(()=>[o("img",{src:$(P),alt:$(k)},null,8,hl)]),_:1})):w("",!0),a(me,null,{default:d(()=>[M(V($(k)||$(y)?.name||"ì‚¬ìš©ì")+" (ë¡œê·¸ì•„ì›ƒ)",1)]),_:1})]),_:1},8,["icon"])])):w("",!0),o("div",_l,[a(Oe,{color:"primary","text-color":"white",icon:"school",label:"í•™ìŠµ ëª¨ë“œ"})])])])]),Ie.value?(u(),B(Zt,{key:0,class:"bg-info text-white q-mb-md",rounded:""},{avatar:d(()=>[a(Z,{name:"keyboard"})]),default:d(()=>[e[29]||(e[29]=o("div",{class:"text-body2"},[o("strong",null,"í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤:"),o("br"),M(" â† â†’ : ì´ì „/ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ | â†‘ â†“ : ì´ì „/ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ"),o("br"),M(" Home/End : ì²«/ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œ | Space : ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ"),o("br"),M(" ? : ì´ ë„ì›€ë§ í† ê¸€ ")],-1))]),_:1,__:[29]})):w("",!0),o("div",xl,[Se.value?(u(),_("div",kl,[o("iframe",{src:Se.value,class:"slide-viewer",onLoad:nt},null,40,wl),A.value.visible?(u(),_("div",{key:0,class:"quiz-overlay",onClick:e[1]||(e[1]=ne(()=>{},["stop"]))},[o("div",ql,[o("div",Sl,V(A.value.question),1),o("div",Il,[(u(!0),_(xe,null,ke(A.value.options,(s,n)=>(u(),_("div",{class:"col-12 col-sm-6",key:n},[a(T,{outline:"",rounded:"",size:"lg",class:"full-width text-left option-btn",label:n+1+". "+s,onClick:ne(v=>Vt(n+1),["stop"])},null,8,["label","onClick"])]))),128))]),A.value.revealed&&A.value.answerText?(u(),_("div",Cl,[A.value.revealed&&A.value.correctIndex&&A.value.lastChoice?(u(),_("div",$l,V(A.value.lastChoice===A.value.correctIndex?"ì •ë‹µì…ë‹ˆë‹¤! âœ…":"ì˜¤ë‹µì…ë‹ˆë‹¤. âŒ"),1)):w("",!0),o("div",Vl,[A.value.isOX?w("",!0):(u(),_("div",Ll,[e[30]||(e[30]=o("b",null,"ì •ë‹µ:",-1)),M(" "+V(A.value.correctIndex),1)])),o("div",{innerHTML:A.value.answerText.replace(/\n/g,"<br/>")},null,8,Ol)])])):w("",!0)])])):w("",!0),R.value&&de.value&&N.value?(u(),_("div",{key:1,class:"iframe-blocker",onClick:e[2]||(e[2]=ne(()=>{},["stop"]))})):w("",!0),R.value&&de.value&&N.value?(u(),_("div",{key:2,class:"poll-overlay",onClick:e[3]||(e[3]=ne(()=>{},["stop"]))},[a(Eo,{"poll-id":R.value.pollId},null,8,["poll-id"])])):R.value&&oe.value&&R.value.result==="bar"?(u(),_("div",{key:3,class:"poll-overlay",onClick:e[4]||(e[4]=ne(()=>{},["stop"]))},[a(po,{"poll-id":R.value.pollId},null,8,["poll-id"])])):R.value&&oe.value&&R.value.result==="word"?(u(),_("div",{key:4,class:"poll-overlay",onClick:e[5]||(e[5]=ne(()=>{},["stop"]))},[a(Wo,{"poll-id":R.value.pollId},null,8,["poll-id"])])):w("",!0),R.value&&de.value&&!N.value?(u(),B(T,{key:5,class:"poll-fab",round:"",color:"primary",icon:"how_to_vote",onClick:e[6]||(e[6]=s=>N.value=!0)},{default:d(()=>[a(me,null,{default:d(()=>e[31]||(e[31]=[M("íˆ¬í‘œí•˜ê¸°",-1)])),_:1,__:[31]})]),_:1})):w("",!0),R.value&&oe.value?(u(),B(T,{key:6,class:"poll-fab q-mr-md",round:"",color:"secondary",icon:"insights",onClick:e[7]||(e[7]=s=>St(R.value.pollId)),style:{right:"80px"}},{default:d(()=>[a(me,null,{default:d(()=>e[32]||(e[32]=[M("ê²°ê³¼ ë³´ê¸°",-1)])),_:1,__:[32]})]),_:1})):w("",!0),R.value&&oe.value?(u(),B(T,{key:7,class:"poll-fab q-mr-md",round:"",color:"negative",icon:"delete",onClick:e[8]||(e[8]=s=>It(R.value.pollId)),style:{right:"140px"}},{default:d(()=>[a(me,null,{default:d(()=>e[33]||(e[33]=[M("ê²°ê³¼ ì´ˆê¸°í™”",-1)])),_:1,__:[33]})]),_:1})):w("",!0)])):(u(),_("div",Dl,[a(eo,{size:"50px",color:"primary"}),e[34]||(e[34]=o("div",{class:"text-h6 q-mt-md"},"ìŠ¬ë¼ì´ë“œë¥¼ ë¡œë”©í•˜ëŠ” ì¤‘...",-1))]))])]),_:1}))]),_:1}),!ge.value||$(f)||$(i)?(u(),B(et,{key:1,position:"bottom",offset:[0,0]},{default:d(()=>[o("div",Ql,[o("div",Tl,[o("div",Al,[a(T,{round:"",size:"lg",icon:"chevron_left",color:"blue","text-color":"white",disable:r.value===0,onClick:e[9]||(e[9]=s=>j(r.value-1))},null,8,["disable"])]),o("div",zl,[o("div",Pl,[o("div",Rl,V(r.value+1),1),o("div",El,V(ce.value),1)])]),r.value===U.value-1?(u(),_("div",Ul,[a(T,{color:Y.value?"positive":"primary",icon:Y.value?"check_circle":"done",label:Y.value?"ì™„ë£Œë¨":"í•™ìŠµ ì™„ë£Œ",onClick:yt,size:"md"},null,8,["color","icon","label"])])):w("",!0),o("div",Ml,[a(T,{round:"",size:"lg",icon:"chevron_right",color:"blue","text-color":"white",disable:r.value===U.value-1,onClick:e[10]||(e[10]=s=>j(r.value+1))},null,8,["disable"])])])])]),_:1})):w("",!0),a(et,{position:"bottom-right",offset:[18,80]},{default:d(()=>[a(T,{fab:"",icon:"menu",color:"primary",onClick:e[11]||(e[11]=s=>S.value=!S.value)})]),_:1}),a(Pe,{modelValue:re.value,"onUpdate:modelValue":e[12]||(e[12]=s=>re.value=s),persistent:""},{default:d(()=>[a(fe,{style:{"min-width":"350px"}},{default:d(()=>[a(ee,{class:"row items-center"},{default:d(()=>[a(Ve,{icon:"exit_to_app",color:"primary","text-color":"white"}),o("span",Bl,V(at.value),1)]),_:1}),a(ee,null,{default:d(()=>e[35]||(e[35]=[o("p",null,"í™”ë©´ì„ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",-1)])),_:1,__:[35]}),a(Re,{align:"right"},{default:d(()=>[Ye(a(T,{flat:"",label:"ì•„ë‹ˆì˜¤",color:"grey"},null,512),[[Ze]]),a(T,{unelevated:"",label:"ì˜ˆ",color:"primary",onClick:ft})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Pe,{modelValue:ue.value,"onUpdate:modelValue":e[13]||(e[13]=s=>ue.value=s),persistent:""},{default:d(()=>[a(fe,{style:{"min-width":"400px"}},{default:d(()=>[a(ee,{class:"row items-center"},{default:d(()=>[a(Ve,{icon:"logout",color:"orange","text-color":"white"}),e[36]||(e[36]=o("span",{class:"q-ml-sm text-h6"},"ë¡œê·¸ì•„ì›ƒ í™•ì¸",-1))]),_:1,__:[36]}),a(ee,null,{default:d(()=>[o("div",Nl,[o("strong",null,V($(k)||$(y)?.name||"ì‚¬ìš©ì"),1),e[37]||(e[37]=M("ë‹˜, ì •ë§ë¡œ ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ",-1))]),e[38]||(e[38]=o("div",{class:"text-caption text-grey-7"},"ë¡œê·¸ì•„ì›ƒí•˜ë©´ í˜„ì¬ í•™ìŠµ ì§„í–‰ ìƒí™©ì´ ì €ì¥ë©ë‹ˆë‹¤.",-1))]),_:1,__:[38]}),a(Re,{align:"right"},{default:d(()=>[Ye(a(T,{flat:"",label:"ì·¨ì†Œ",color:"grey"},null,512),[[Ze]]),a(T,{unelevated:"",label:"ë¡œê·¸ì•„ì›ƒ",color:"orange",onClick:gt})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Jt,{modelValue:g.value,"onUpdate:modelValue":e[14]||(e[14]=s=>g.value=s)},null,8,["modelValue"]),a(Yt,{modelValue:h.value,"onUpdate:modelValue":e[15]||(e[15]=s=>h.value=s),onGuestLoginSuccess:vt,onGoogleLoginRequest:mt},null,8,["modelValue"]),a(Oo,{modelValue:te.value,"onUpdate:modelValue":e[16]||(e[16]=s=>te.value=s),onSubmit:bt,onCompleted:ht},null,8,["modelValue"])]),_:1}))}}),ns=qe(Fl,[["__scopeId","data-v-4f817430"]]);export{ns as default};
