const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/QSpinnerDots-CtV_sSP1-C4uhZ7_-.js","assets/index-bfaO29LJ.js","assets/index-DJuvGez9.css"])))=>i.map(i=>d[i]);
import{gl as we,gm as Be,h2 as Dl,gn as Ol,go as He,gp as D,gq as g,gs as pe,gt as Ne,h4 as E,h5 as ie,h1 as he,gw as N,gx as u,gy as v,X as Ce,_ as Se,h7 as H,h9 as fe,h8 as Ue,gz as Qe,hz as Al,gC as We,hA as zl,hB as Ye,gA as j,gY as ee,hj as El,gB as tl,g$ as Je,hy as Tl,gK as _,gJ as s,gN as S,gQ as t,gO as B,gP as V,gL as k,gS as be,gT as xe,gM as A,g_ as Ve,gW as ne,gV as Ke,h6 as Ul,gD as Rl,gE as Le,hC as Ze,hD as ke,h3 as Pl,h0 as Fl}from"./index-bfaO29LJ.js";import{Y as Bl,s as Nl,t as me,j as le,D as ve,o as Re,e as Pe}from"./QDialog-B8pEesiq-BeyHQlTP.js";import{e as Ql,Z as Wl,o as jl,s as Gl,u as De,r as Xl,n as Fe}from"./use-checkbox-v9zadS43-CJbR18q1.js";import{b as Ml,h as Hl,m as Yl,u as el,g as Jl,y as Kl}from"./GuestLoginDialog-C8shKX0C-BV790tvM.js";import{G as Oe}from"./QChip-5D8RM28h-CCot4X64.js";import{f as Zl}from"./QBanner-Dj1wXmJN-DtFv62tq.js";import{Q as et}from"./QSpinnerDots-CtV_sSP1-C4uhZ7_-.js";import{v as lt}from"./QPage-ByY5YaQR-DpnvW4Lw.js";import{s as tt,a as ot}from"./QLayout-Ch1tPNld-DqFhw1NL.js";import{H as at,X as st,R as Ae,z as nt,q as it}from"./useGuestAuth-DCU4zYbt-BkzXZq5s.js";import{k as qe,u as ol,c as al}from"./_plugin-vue_export-helper-BIy862K0-Cvk7klib.js";import{f as rt,g as ut,y as ct,k as dt,p as vt}from"./survey-BsPVZuTD-8S8Vv80W.js";import{Q as pt}from"./PollResultBar-CZnSW1dy-DhXjZ05i.js";import"./QSeparator-BvYjkyh3-DkEPxTDb.js";import"./pinia-Bs2obeVG-Cxe1i29N.js";const ge=(o,d=ge,b=d.f||(d.f=["assets/QSpinnerDots-CtV_sSP1.js","assets/index-CyCqcZIQ.js","assets/index-D7VONvhQ.css"]))=>o.map(I=>b[I]),mt={position:{type:String,default:"bottom-right",validator:o=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(o)},offset:{type:Array,validator:o=>o.length===2},expand:Boolean};function yt(){const{props:o,proxy:{$q:d}}=We(),b=Rl(Fl,Le);if(b===Le)return console.error("QPageSticky needs to be child of QLayout"),Le;const I=g(()=>{const q=o.position;return{top:q.indexOf("top")!==-1,right:q.indexOf("right")!==-1,bottom:q.indexOf("bottom")!==-1,left:q.indexOf("left")!==-1,vertical:q==="top"||q==="bottom",horizontal:q==="left"||q==="right"}}),m=g(()=>b.header.offset),c=g(()=>b.right.offset),y=g(()=>b.footer.offset),w=g(()=>b.left.offset),T=g(()=>{let q=0,L=0;const x=I.value,i=d.lang.rtl===!0?-1:1;x.top===!0&&m.value!==0?L=`${m.value}px`:x.bottom===!0&&y.value!==0&&(L=`${-y.value}px`),x.left===!0&&w.value!==0?q=`${i*w.value}px`:x.right===!0&&c.value!==0&&(q=`${-i*c.value}px`);const C={transform:`translate(${q}, ${L})`};return o.offset&&(C.margin=`${o.offset[1]}px ${o.offset[0]}px`),x.vertical===!0?(w.value!==0&&(C[d.lang.rtl===!0?"right":"left"]=`${w.value}px`),c.value!==0&&(C[d.lang.rtl===!0?"left":"right"]=`${c.value}px`)):x.horizontal===!0&&(m.value!==0&&(C.top=`${m.value}px`),y.value!==0&&(C.bottom=`${y.value}px`)),C}),O=g(()=>`q-page-sticky row flex-center fixed-${o.position} q-page-sticky--${o.expand===!0?"expand":"shrink"}`);function $(q){const L=tl(q.default);return j("div",{class:O.value,style:T.value},o.expand===!0?L:[j("div",L)])}return{$layout:b,getStickyContent:$}}const ll=Qe({name:"QPageSticky",props:mt,setup(o,{slots:d}){const{getStickyContent:b}=yt();return()=>b(d)}}),ft=()=>j("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[j("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),j("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),gt=Qe({name:"QRadio",props:{...ol,...Al,...Bl,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(o,{slots:d,emit:b}){const{proxy:I}=We(),m=al(o,I.$q),c=zl(o,Ql),y=D(null),{refocusTargetEl:w,refocusTarget:T}=Wl(o,y),O=g(()=>Ye(o.modelValue)===Ye(o.val)),$=g(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(o.disable===!0?" disabled":"")+(m.value===!0?" q-radio--dark":"")+(o.dense===!0?" q-radio--dense":"")+(o.leftLabel===!0?" reverse":"")),q=g(()=>{const h=o.color!==void 0&&(o.keepColor===!0||O.value===!0)?` text-${o.color}`:"";return`q-radio__inner relative-position q-radio__inner--${O.value===!0?"truthy":"falsy"}${h}`}),L=g(()=>(O.value===!0?o.checkedIcon:o.uncheckedIcon)||null),x=g(()=>o.disable===!0?-1:o.tabindex||0),i=g(()=>{const h={type:"radio"};return o.name!==void 0&&Object.assign(h,{".checked":O.value===!0,"^checked":O.value===!0?"checked":void 0,name:o.name,value:o.val}),h}),C=Nl(i);function r(h){h!==void 0&&(Je(h),T(h)),o.disable!==!0&&O.value!==!0&&b("update:modelValue",o.val,h)}function P(h){(h.keyCode===13||h.keyCode===32)&&Je(h)}function W(h){(h.keyCode===13||h.keyCode===32)&&r(h)}Object.assign(I,{set:r});const f=ft();return()=>{const h=L.value!==null?[j("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[j(ee,{class:"q-radio__icon",name:L.value})])]:[f];o.disable!==!0&&C(h,"unshift"," q-radio__native q-ma-none q-pa-none");const te=[j("div",{class:q.value,style:c.value,"aria-hidden":"true"},h)];w.value!==null&&te.push(w.value);const re=o.label!==void 0?El(d.default,[o.label]):tl(d.default);return re!==void 0&&te.push(j("div",{class:"q-radio__label q-anchor--skip"},re)),j("div",{ref:y,class:$.value,tabindex:x.value,role:"radio","aria-label":o.label,"aria-checked":O.value===!0?"true":"false","aria-disabled":o.disable===!0?"true":void 0,onClick:r,onKeydown:P,onKeyup:W},te)}}}),sl={radio:gt,checkbox:rt,toggle:Ml},ht=Object.keys(sl);function ze(o,d){if(typeof o=="function")return o;const b=o!==void 0?o:d;return I=>I[b]}const Ee=Qe({name:"QOptionGroup",props:{...ol,modelValue:{required:!0},options:{type:Array,validator:o=>o.every(Tl),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:o=>ht.includes(o)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(o,{emit:d,slots:b}){const{proxy:{$q:I}}=We(),m=Array.isArray(o.modelValue);o.type==="radio"?m===!0&&console.error("q-option-group: model should not be array"):m===!1&&console.error("q-option-group: model should be array in your case");const c=al(o,I),y=g(()=>sl[o.type]),w=g(()=>ze(o.optionValue,"value")),T=g(()=>ze(o.optionLabel,"label")),O=g(()=>ze(o.optionDisable,"disable")),$=g(()=>o.options.map(i=>({val:w.value(i),name:i.name===void 0?o.name:i.name,disable:o.disable||O.value(i),leftLabel:i.leftLabel===void 0?o.leftLabel:i.leftLabel,color:i.color===void 0?o.color:i.color,checkedIcon:i.checkedIcon,uncheckedIcon:i.uncheckedIcon,dark:i.dark===void 0?c.value:i.dark,size:i.size===void 0?o.size:i.size,dense:o.dense,keepColor:i.keepColor===void 0?o.keepColor:i.keepColor}))),q=g(()=>"q-option-group q-gutter-x-sm"+(o.inline===!0?" q-option-group--inline":"")),L=g(()=>{const i={role:"group"};return o.type==="radio"&&(i.role="radiogroup",o.disable===!0&&(i["aria-disabled"]="true")),i});function x(i){d("update:modelValue",i)}return()=>j("div",{class:q.value,...L.value},o.options.map((i,C)=>{const r=b["label-"+C]!==void 0?()=>b["label-"+C](i):b.label!==void 0?()=>b.label(i):void 0;return j("div",[j(y.value,{label:r===void 0?T.value(i):null,modelValue:o.modelValue,"onUpdate:modelValue":x,...$.value[C]},r)])}))}}),bt={class:"survey-container"},xt={class:"progress-section q-mb-lg"},kt={class:"text-caption text-grey-6"},wt={class:"survey-content"},qt={key:0,class:"survey-step"},_t={key:1,class:"survey-step"},It={key:2,class:"survey-step"},$t={key:3,class:"survey-step"},Ct={key:4,class:"survey-step text-center"},St={class:"q-mb-lg"},Te=5,Vt=we({__name:"SurveyDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue","submit","completed"],setup(o,{emit:d}){const b=o,I=d,m=Be(),c=D(1),y=D({satisfaction:"",recommendation:"",additionalEducation:"",feedback:""}),w=ct,T=dt,O=vt,$=g({get:()=>b.modelValue,set:W=>I("update:modelValue",W)}),q=g(()=>c.value/Te),L=g(()=>{switch(c.value){case 1:return y.value.satisfaction!=="";case 2:return y.value.recommendation!=="";case 3:return y.value.additionalEducation!=="";case 4:return y.value.feedback.trim()!=="";default:return!0}}),x=()=>{c.value<Te&&c.value++,c.value===5&&C()},i=()=>{c.value>1&&c.value--},C=()=>{I("submit",{...y.value}),m.notify({type:"positive",message:"ì„¤ë¬¸ì¡°ì‚¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!",position:"top",timeout:3e3}),I("completed")},r=()=>{$.value=!1,P()},P=()=>{c.value=1,y.value={satisfaction:"",recommendation:"",additionalEducation:"",feedback:""}};return pe($,W=>{W||P()}),(W,f)=>(u(),N(Re,{modelValue:$.value,"onUpdate:modelValue":f[4]||(f[4]=h=>$.value=h),persistent:"",maximized:""},{default:v(()=>[s(me,{class:"survey-dialog"},{default:v(()=>[s(le,{class:"bg-primary text-white text-center"},{default:v(()=>f[5]||(f[5]=[t("h4",{class:"q-my-md"},"ğŸ“ í•™ìŠµ ì™„ë£Œ ì„¤ë¬¸ì¡°ì‚¬",-1),t("p",{class:"q-mb-none"},"ê°•ì˜ ìˆ˜ê°•ì„ ì™„ë£Œí•˜ì…¨ìŠµë‹ˆë‹¤! ì†Œì¤‘í•œ ì˜ê²¬ì„ ë“¤ë ¤ì£¼ì„¸ìš”.",-1)])),_:1,__:[5]}),s(le,{class:"q-pa-lg"},{default:v(()=>[t("div",bt,[t("div",xt,[s(Fe,{value:q.value,color:"primary",class:"q-mb-sm"},null,8,["value"]),t("div",kt,V(c.value)+"/"+V(Te)+" ë‹¨ê³„",1)]),t("div",wt,[c.value===1?(u(),k("div",qt,[f[6]||(f[6]=t("h5",{class:"q-mb-md"},"1. ì „ë°˜ì ì¸ ê°•ì˜ ë§Œì¡±ë„",-1)),f[7]||(f[7]=t("p",{class:"text-grey-7 q-mb-lg"},"ì´ë²ˆ ê°•ì˜ì— ëŒ€í•œ ì „ë°˜ì ì¸ ë§Œì¡±ë„ë¥¼ í‰ê°€í•´ì£¼ì„¸ìš”.",-1)),s(Ee,{modelValue:y.value.satisfaction,"onUpdate:modelValue":f[0]||(f[0]=h=>y.value.satisfaction=h),options:S(w),color:"primary",inline:""},null,8,["modelValue","options"])])):_("",!0),c.value===2?(u(),k("div",_t,[f[8]||(f[8]=t("h5",{class:"q-mb-md"},"2. ì§€ì¸ ì¶”ì²œ ì˜í–¥",-1)),f[9]||(f[9]=t("p",{class:"text-grey-7 q-mb-lg"},"ì´ ê°•ì˜ë¥¼ ì§€ì¸ì´ë‚˜ ë™ë£Œì—ê²Œ ì¶”ì²œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",-1)),s(Ee,{modelValue:y.value.recommendation,"onUpdate:modelValue":f[1]||(f[1]=h=>y.value.recommendation=h),options:S(T),color:"primary",inline:""},null,8,["modelValue","options"])])):_("",!0),c.value===3?(u(),k("div",It,[f[10]||(f[10]=t("h5",{class:"q-mb-md"},"3. ì¶”ê°€ êµìœ¡ ì˜í–¥",-1)),f[11]||(f[11]=t("p",{class:"text-grey-7 q-mb-lg"}," AI ê´€ë ¨ ì¶”ê°€ êµìœ¡ì´ ìˆë‹¤ë©´ ì°¸ì—¬í•˜ì‹¤ ì˜í–¥ì´ ìˆìœ¼ì‹ ê°€ìš”? ",-1)),s(Ee,{modelValue:y.value.additionalEducation,"onUpdate:modelValue":f[2]||(f[2]=h=>y.value.additionalEducation=h),options:S(O),color:"primary",inline:""},null,8,["modelValue","options"])])):_("",!0),c.value===4?(u(),k("div",$t,[f[12]||(f[12]=t("h5",{class:"q-mb-md"},"4. ììœ  ì˜ê²¬",-1)),f[13]||(f[13]=t("p",{class:"text-grey-7 q-mb-lg"}," ê°•ì˜ì— ëŒ€í•œ ì˜ê²¬ì´ë‚˜ ê°œì„ ì‚¬í•­ì„ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”. ",-1)),s(it,{modelValue:y.value.feedback,"onUpdate:modelValue":f[3]||(f[3]=h=>y.value.feedback=h),type:"textarea",placeholder:"ê°•ì˜ì— ëŒ€í•œ ì˜ê²¬, ê°œì„ ì‚¬í•­, ë˜ëŠ” ì¶”ê°€ë¡œ ê¶ê¸ˆí•œ ì ì„ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”...",rows:"6",outlined:"",autogrow:""},null,8,["modelValue"])])):_("",!0),c.value===5?(u(),k("div",Ct,[t("div",St,[s(ee,{name:"check_circle",size:"80px",color:"positive"})]),f[14]||(f[14]=t("h5",{class:"q-mb-md"},"ì„¤ë¬¸ì¡°ì‚¬ ì™„ë£Œ!",-1)),f[15]||(f[15]=t("p",{class:"text-grey-7"},[B(" ì†Œì¤‘í•œ ì˜ê²¬ì„ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤."),t("br"),B(" ë” ë‚˜ì€ ê°•ì˜ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ë…¸ë ¥í•˜ê² ìŠµë‹ˆë‹¤. ")],-1))])):_("",!0)])])]),_:1}),s(Pe,{align:"right",class:"q-pa-lg"},{default:v(()=>[c.value>1&&c.value<5?(u(),N(A,{key:0,flat:"",label:"ì´ì „",onClick:i,class:"q-mr-sm"})):_("",!0),c.value<5?(u(),N(A,{key:1,label:c.value===4?"ì™„ë£Œ":"ë‹¤ìŒ",color:c.value===4?"positive":"primary",onClick:x,disable:!L.value},null,8,["label","color","disable"])):_("",!0),c.value===5?(u(),N(A,{key:2,flat:"",label:"ë‹«ê¸°",onClick:r,color:"primary"})):_("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Lt=qe(Vt,[["__scopeId","data-v-faec0bd2"]]),Dt={key:0,class:"poll-vote"},Ot={class:"poll-header"},At={class:"title"},zt={key:0,class:"subtitle"},Et={key:0,class:"options"},Tt={key:1,class:"voted"},Ut=we({__name:"PollVote",props:{pollId:{}},setup(o){const d=o,b=Be(),I=E?ie(E):null,m=E?Ze(E):Ze(),c=D(null),y=D(null),w=D(!1);let T=null,O=null,$=null;Ne(async()=>{if(!I){console.warn("âš ï¸ RTDB ë¯¸ì´ˆê¸°í™”: íˆ¬í‘œ ë¹„í™œì„±"),w.value=!1;return}console.log("ğŸ—³ï¸ PollVote mount:",{pollId:d.pollId,rtdbUrl:"https://slide-view-91a09-default-rtdb.asia-southeast1.firebasedatabase.app/",appDbUrl:E?.options?.databaseURL||null});try{T=ke(H(I,`polls/${d.pollId}/meta`),i=>{c.value=i.val()||null,console.log("ğŸ—³ï¸ meta:",c.value)});const x=m.currentUser?.uid;console.log("ğŸ—³ï¸ auth uid:",x),x?O=ke(H(I,`polls/${d.pollId}/votes/${x}`),i=>{y.value=i.exists()?i.val():null,console.log("ğŸ—³ï¸ myVote:",y.value),w.value=!0}):w.value=!0}catch(x){console.error("ğŸ—³ï¸ RTDB êµ¬ë… ì‹¤íŒ¨:",x),w.value=!0}$=window.setTimeout(()=>{w.value||(w.value=!0)},2500)}),he(()=>{T&&T(),O&&O(),$&&window.clearTimeout($)});const q=g(()=>c.value?.open!==!1),L=async x=>{try{if(console.log("ğŸ—³ï¸ vote click:",{pollId:d.pollId,optionId:x}),!I)throw new Error("DB not ready");if(!q.value){b.notify({type:"warning",message:"í˜„ì¬ íˆ¬í‘œëŠ” ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."});return}const i=m.currentUser?.uid;if(!i){b.notify({type:"warning",message:"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."});return}const C=`polls/${d.pollId}/votes/${i}`;console.log("ğŸ—³ï¸ set path:",C),await Ue(H(I,C),x);const r=await fe(H(I,C));console.log("ğŸ—³ï¸ verify read:",{path:C,value:r.val()}),b.notify({type:"positive",message:"íˆ¬í‘œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."})}catch(i){console.error("íˆ¬í‘œ ì‹¤íŒ¨:",i),b.notify({type:"negative",message:i?.message||"íˆ¬í‘œ ì‹¤íŒ¨"})}};return(x,i)=>c.value?(u(),k("div",Dt,[t("div",Ot,[t("div",At,V(c.value?.question||"íˆ¬í‘œ"),1),c.value?.description?(u(),k("div",zt,V(c.value?.description),1)):_("",!0)]),w.value?(u(),k("div",Et,[(u(!0),k(be,null,xe(c.value?.options||{},(C,r)=>(u(),k("div",{key:r,class:"option-item"},[s(A,{unelevated:"",color:"primary",class:"full-width q-mb-sm",label:C,disable:!!y.value,onClick:P=>L(r)},null,8,["label","disable","onClick"])]))),128))])):_("",!0),y.value?(u(),k("div",Tt,"íˆ¬í‘œ ì™„ë£Œ: "+V(c.value?.options?.[y.value]),1)):_("",!0)])):_("",!0)}}),Rt=qe(Ut,[["__scopeId","data-v-03dfac5f"]]),Pt={class:"poll-word"},Ft={class:"title"},Bt={key:0,class:"loading"},Nt={key:1,class:"cloud"},Qt=we({__name:"PollResultWord",props:{pollId:{}},setup(o){const d=o,b=E?ie(E):null,I=D(null),m=D({}),c=D(!1);let y=null,w=null;Ne(()=>{b&&(y=ke(H(b,`polls/${d.pollId}/meta`),$=>{I.value=$.val()||null,c.value=!0}),w=ke(H(b,`polls/${d.pollId}/tally`),$=>{m.value=$.val()||{}}))}),he(()=>{y&&y(),w&&w()});const T=g(()=>{const $=Object.values(m.value||{});return $.length?Math.max(...$):0}),O=$=>{const q=T.value||1,L=Math.round(12+24*($/q)),x=.5+.5*($/q);return{fontSize:L+"px",opacity:x.toFixed(2),color:`hsl(210, 70%, ${Math.round(30+30*($/q))}%)`}};return($,q)=>(u(),k("div",Pt,[t("div",Ft,V(I.value?.question||"íˆ¬í‘œ ê²°ê³¼"),1),c.value?(u(),k("div",Nt,[(u(!0),k(be,null,xe(I.value?.options||{},(L,x)=>(u(),k("span",{key:x,class:"word",style:Pl(O(m.value[x]||0))},V(L),5))),128))])):(u(),k("div",Bt,"ë¡œë”© ì¤‘..."))]))}}),Wt=qe(Qt,[["__scopeId","data-v-604aff85"]]),jt={class:"q-pa-md"},Gt={class:"course-info q-mb-lg"},Xt={class:"text-caption text-grey-7 q-mt-sm"},Mt={class:"text-caption text-grey-7"},Ht={class:"q-mt-lg"},Yt={class:"text-caption text-grey-7"},Jt={class:"q-mt-lg"},Kt={class:"row q-col-gutter-sm"},Zt={class:"col-6"},eo={class:"text-h6 text-primary"},lo={class:"col-6"},to={class:"text-h6 text-positive"},oo={class:"q-mt-sm"},ao={class:"text-caption text-grey-7 q-mt-xs"},so={key:0,class:"login-required"},no={class:"text-center q-pa-xl"},io={class:"row justify-center q-gutter-md"},ro={class:"row items-center q-mb-sm"},uo={class:"col"},co={class:"text-h5 text-weight-bold"},vo={class:"text-subtitle1 text-grey-7"},po={class:"col-auto"},mo={class:"row items-center q-gutter-sm"},yo={key:0,class:"col-auto"},fo={key:1,class:"col-auto"},go={key:2,class:"col-auto"},ho={key:3,class:"col-auto"},bo=["src","alt"],xo={class:"col-auto"},ko={class:"slide-container"},wo={key:0,class:"slide-viewer-container"},qo=["src"],_o={class:"quiz-card"},Io={class:"text-subtitle1 q-mb-sm"},$o={class:"row q-col-gutter-md options-grid"},Co={key:0,class:"q-mt-md q-pa-sm bg-grey-1 rounded-borders"},So={key:0,class:"text-positive text-weight-bold q-mb-xs"},Vo={class:"text-body2"},Lo={key:0,class:"q-mb-xs"},Do=["innerHTML"],Oo={key:1,class:"loading-state"},Ao={class:"fixed-navigation-bar"},zo={class:"row items-center justify-center q-pa-sm"},Eo={class:"col-auto q-mr-lg"},To={class:"col-auto q-mx-lg"},Uo={class:"text-center"},Ro={class:"text-h6 text-weight-bold"},Po={class:"text-caption text-grey-7"},Fo={key:0,class:"col-auto q-mx-lg"},Bo={class:"col-auto q-ml-lg"},No={class:"q-ml-sm text-h6"},Qo={class:"text-body1 q-mb-md"},Wo=we({__name:"StudentView",setup(o){const d=Be(),b=Dl(),I=Ol(),m=at(),{user:c,isAuthenticated:y,displayName:w,photoURL:T,logout:O,initAuth:$,signInWithGoogle:q}=He(),{userRole:L}=He(),{guestUser:x,isGuestAuthenticated:i}=st(),C=D(!0),r=D(0),P=D([]),W=D(!1),f=D(!1),h=D(!1),te=D(!1),re=D(!1),nl=D("í•™ìŠµ ì¢…ë£Œ"),ue=D(!1),ye=D(localStorage.getItem("requireStudentLogin")!=="false"),G=g(()=>b.params.courseId),F=g(()=>Y.value.length),Y=g(()=>{if(m.lessons.length===0)return[];const l=[];return m.lessons.forEach((e,a)=>{if(m.isChapterLocked(a)){console.log(`ğŸ”’ Chapter ${a}ê°€ ì ê²¨ìˆì–´ì„œ ê±´ë„ˆëœ€`);return}for(let n=0;n<e.slides;n++){const p=`${a}-${n}`,Q=!!je[p];if(m.isSlideLocked(a,n))if(Q)console.log(`ğŸ”“ Poll ìŠ¬ë¼ì´ë“œ(${p})ëŠ” ì ê¸ˆ ë¬´ì‹œí•˜ê³  í‘œì‹œ`);else{console.log(`ğŸ”’ Slide ${p}ê°€ ì ê²¨ìˆì–´ì„œ ê±´ë„ˆëœ€`);continue}const R=e.slideTitles?.[n]||`ìŠ¬ë¼ì´ë“œ ${l.length+1}`;l.push({index:l.length,title:R,fileName:`slide-${a}-${n}.md`,lessonIndex:a,slideIndex:n})}}),l}),ce=g(()=>m.lessons.length===0||r.value>=F.value?"ìŠ¬ë¼ì´ë“œ ë¡œë”© ì¤‘...":Y.value[r.value]?.title||`ìŠ¬ë¼ì´ë“œ ${r.value+1}`),_e=g(()=>{if(m.lessons.length===0||r.value>=F.value)return console.log("ğŸš« ìŠ¬ë¼ì´ë“œ URL ìƒì„± ì‹¤íŒ¨:",{hasLessons:m.lessons.length>0,currentIndex:r.value,totalSlides:F.value}),null;const l=Y.value[r.value];if(!l)return console.warn("ğŸš« ìŠ¬ë¼ì´ë“œ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ:",r.value),null;const e=l.fileName.replace(".md",".html"),a=`/generated/slides/${e}`;return console.log("ğŸ”— ìŠ¬ë¼ì´ë“œ URL ìƒì„±:",{index:r.value,fileName:l.fileName,slideFileName:e,url:a}),a}),il=()=>{console.log("âœ… ìŠ¬ë¼ì´ë“œ ë¡œë“œ ì™„ë£Œ:",{index:r.value,title:ce.value,url:_e.value}),setTimeout(()=>{try{const l=document.querySelector(".slide-viewer");l&&l.contentWindow&&l.contentDocument&&(l.contentDocument.addEventListener("click",async e=>{const a=e.target;if(a.classList.contains("copy-button")){const n=a.closest(".code-block-wrapper");if(n){const p=n.querySelector("pre code");p&&rl(p.textContent||"",a)}return}a.closest(".code-block-wrapper")||a.closest("pre")||a.closest("code")}),console.log("âœ… iframe ë‚´ë¶€ ë³µì‚¬ ê¸°ëŠ¥ ë° ë„¤ë¹„ê²Œì´ì…˜ ê¸°ëŠ¥ ì£¼ì… ì™„ë£Œ"))}catch(l){console.log("âš ï¸ iframe ë‚´ë¶€ ê¸°ëŠ¥ ì£¼ì… ì‹¤íŒ¨ (CORS ì •ì±…):",l)}},100),_l().catch(()=>{}),oe.value&&Il().catch(()=>{}),Vl().catch(()=>{});try{U.value&&de.value?W.value=!0:W.value=!1}catch{}},rl=async(l,e)=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(l);else{const p=document.createElement("textarea");p.value=l,p.style.position="fixed",p.style.top="0",p.style.left="0",p.style.width="2em",p.style.height="2em",p.style.padding="0",p.style.border="none",p.style.outline="none",p.style.boxShadow="none",p.style.background="transparent",document.body.appendChild(p),p.focus(),p.select(),document.execCommand("copy"),document.body.removeChild(p)}const a=e.textContent,n=e.style.backgroundColor;e.textContent="ë³µì‚¬ë¨!",e.style.backgroundColor="#10b981",setTimeout(()=>{e.textContent=a,e.style.backgroundColor=n},1e3),d.notify({type:"positive",message:"ì½”ë“œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.",position:"top",timeout:1e3})}catch(a){console.error("í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:",a),d.notify({type:"negative",message:"ì½”ë“œ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",position:"top",timeout:2e3})}},ul=g(()=>F.value===0?0:P.value.length/F.value),J=g(()=>r.value!==F.value-1?!1:P.value.includes(r.value));g(()=>m.lessons.some((l,e)=>{if(m.isChapterLocked(e))return!0;for(let a=0;a<l.slides;a++)if(m.isSlideLocked(e,a))return!0;return!1}));const je={"1-2":{pollId:"poll-1-2",result:"bar"},"1-3":{pollId:"poll-1-3",result:"bar"},"1-4":{pollId:"poll-1-4",result:"bar"},"1-5":{pollId:"poll-1-5",result:"bar"},"1-6":{pollId:"poll-1-6",result:"bar"}},se=D(null),de=g(()=>L.value==="student"),oe=g(()=>L.value==="admin"),cl=g(()=>{const l=Y.value[r.value];return l?`${l.lessonIndex}-${l.slideIndex}`:""}),U=g(()=>se.value||je[cl.value]);pe([r,Y],async()=>{try{const l=Y.value[r.value];if(!l){se.value=null;return}const e=`/slides/slide-${l.lessonIndex}-${l.slideIndex}.md`,a=await fetch(e,{cache:"no-store"});if(!a.ok){se.value=null;return}const n=(await a.text()).toLowerCase();if(n.trim().startsWith("@poll")){const p=/@word|word\s*cloud|ì›Œë“œ/.test(n);se.value={pollId:`poll-${l.lessonIndex}-${l.slideIndex}`,result:p?"word":"bar"}}else se.value=null}catch{se.value=null}},{immediate:!0});const dl=async()=>{try{console.log("ğŸ” í•™ìƒ ëª¨ë“œ - ì§ì ‘ ë¡œê·¸ì¸ ì‹œì‘..."),await q(),console.log("âœ… í•™ìƒ ëª¨ë“œ - ì§ì ‘ ë¡œê·¸ì¸ ì™„ë£Œ")}catch(l){console.error("âŒ í•™ìƒ ëª¨ë“œ - ì§ì ‘ ë¡œê·¸ì¸ ì‹¤íŒ¨:",l),d.notify({type:"negative",message:"ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",position:"top",timeout:3e3})}},vl=()=>{h.value=!0},pl=l=>{console.log("ğŸ­ ê²ŒìŠ¤íŠ¸ ë¡œê·¸ì¸ ì„±ê³µ:",l),h.value=!1,d.notify({type:"positive",message:"ê²ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ ë¡œê·¸ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!",position:"top",timeout:2e3})},ml=()=>{h.value=!1,f.value=!0},Ge=async()=>{if(console.log("ğŸ“ í•™ìƒ ëª¨ë“œ - ê°•ì˜ ë¡œë“œ ì‹œì‘:",G.value),!G.value){console.warn("ğŸš« ê°•ì˜ IDê°€ ì—†ìŠµë‹ˆë‹¤."),d.notify({type:"negative",message:"ê°•ì˜ IDê°€ ì—†ìŠµë‹ˆë‹¤.",position:"top"});return}try{await m.initializeCourseOutline();const l=G.value||"ai-workshop";m.setCurrentCourseId(l);const e=await m.loadLockStatusFromFirestore(l);console.log("ğŸ”„ Firestore ì ê¸ˆ ë¡œë“œ ê²°ê³¼:",e),m.subscribeLockStatus(l),console.log("ğŸ“š ê°•ì˜ ë°ì´í„° ë¡œë“œ ì™„ë£Œ:",{lessonsCount:m.lessons.length,lessons:m.lessons.slice(0,3)});const a=parseInt(b.query.slide)||0;Y.value.length>0?a>=0&&a<Y.value.length?r.value=a:(r.value=0,console.log("ğŸ”’ URLì˜ ìŠ¬ë¼ì´ë“œ ì¸ë±ìŠ¤ê°€ ìœ íš¨í•˜ì§€ ì•Šì•„ ì²« ë²ˆì§¸ ìŠ¬ë¼ì´ë“œë¡œ ì´ë™")):(r.value=0,console.log("ğŸ”’ ì ê¸ˆ í•´ì œëœ ìŠ¬ë¼ì´ë“œê°€ ì—†ìŒ")),console.log("ğŸ“„ í˜„ì¬ ìŠ¬ë¼ì´ë“œ ì¸ë±ìŠ¤:",r.value),kl()}catch(l){console.error("âŒ ê°•ì˜ ë¡œë“œ ì‹¤íŒ¨:",l),d.notify({type:"negative",message:"ê°•ì˜ ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",position:"top"})}},X=l=>{l>=0&&l<F.value?(r.value=l,yl()):console.warn(`ğŸš« ìŠ¬ë¼ì´ë“œ ì¸ë±ìŠ¤ ${l}ê°€ ë²”ìœ„ë¥¼ ë²—ì–´ë‚¨ (0-${F.value-1})`)},yl=()=>{console.log("ğŸ”„ ë¼ìš°íŠ¸ ì—…ë°ì´íŠ¸:",{courseId:G.value,slideIndex:r.value,path:`/study/${G.value}`,query:{slide:r.value.toString()}}),I.push({path:`/study/${G.value}`,query:{slide:r.value.toString()}})},Xe=async()=>{Ae()&&(ue.value=!0)},fl=()=>{try{window.close(),setTimeout(()=>{d.notify({type:"info",message:"ë¸Œë¼ìš°ì € íƒ­ì„ ì§ì ‘ ë‹«ì•„ì£¼ì„¸ìš”.",position:"top",timeout:5e3})},1e3)}catch(l){console.error("ë¸Œë¼ìš°ì € ì¢…ë£Œ ì‹¤íŒ¨:",l),d.notify({type:"info",message:"ë¸Œë¼ìš°ì € íƒ­ì„ ì§ì ‘ ë‹«ì•„ì£¼ì„¸ìš”.",position:"top",timeout:5e3})}},gl=async()=>{try{ue.value=!1;const l=w.value||x.value?.name||"ì‚¬ìš©ì",e=c.value?.email||x.value?.email||"",a=i.value;await O(),I.push({path:"/logout",query:{name:l,email:e,isGuest:a.toString()}})}catch(l){console.error("ë¡œê·¸ì•„ì›ƒ ì˜¤ë¥˜:",l),d.notify({type:"negative",message:"ë¡œê·¸ì•„ì›ƒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",position:"top"})}},hl=async()=>{if(r.value!==F.value-1){d.notify({type:"warning",message:"ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œì—ì„œë§Œ í•™ìŠµ ì™„ë£Œë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",position:"top"});return}const l=r.value;if(J.value){const e=P.value.filter(a=>a!==l);P.value=e}else P.value.push(l),te.value=!0;wl(),d.notify({type:J.value?"positive":"info",message:J.value?"í•™ìŠµ ì™„ë£Œ!":"í•™ìŠµ ì™„ë£Œ ì·¨ì†Œ",position:"top"})},bl=async l=>{console.log("ì„¤ë¬¸ì¡°ì‚¬ ë°ì´í„°:",l);try{const e=await ut.submitSurvey(l);if(!e.success)throw new Error(e.message);const a=`survey-data-${G.value}`,n={...l,submittedAt:new Date().toISOString(),courseId:G.value,userId:c.value?.uid,userEmail:c.value?.email};localStorage.setItem(a,JSON.stringify(n));const p=c.value?.email||x.value?.email,Q=c.value?.displayName||x.value?.name||"í•™ìŠµì";if(p)try{const R=await nt.sendLearningCompletionEmail(p,Q,"AI Workshop ê°•ì˜");R.success?d.notify({type:"positive",message:"í•™ìŠµ ì™„ë£Œ! ì¶•í•˜ ì´ë©”ì¼ì´ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.",position:"top"}):(console.warn("ì´ë©”ì¼ ì „ì†¡ ì‹¤íŒ¨:",R.message),d.notify({type:"warning",message:"ì´ë©”ì¼ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: "+R.message,position:"top"}))}catch(R){console.error("ì´ë©”ì¼ ì „ì†¡ ì˜¤ë¥˜:",R),d.notify({type:"negative",message:"ì´ë©”ì¼ ì „ì†¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",position:"top"})}else console.warn("ì´ë©”ì¼ ì£¼ì†Œê°€ ì—†ì–´ì„œ ì´ë©”ì¼ì„ ì „ì†¡í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");d.notify({type:"positive",message:"ì„¤ë¬¸ì¡°ì‚¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!",position:"top"})}catch(e){console.error("ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ ì‹¤íŒ¨:",e),d.notify({type:"negative",message:"ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",position:"top"})}},xl=()=>{console.log("ì„¤ë¬¸ì¡°ì‚¬ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."),Ae()&&(ue.value=!0)},kl=()=>{try{const l=`completed-slides-${G.value}`,e=localStorage.getItem(l);e&&(P.value=JSON.parse(e))}catch(l){console.error("ì™„ë£Œëœ ìŠ¬ë¼ì´ë“œ ë¡œë“œ ì‹¤íŒ¨:",l),P.value=[]}},wl=()=>{try{const l=`completed-slides-${G.value}`;localStorage.setItem(l,JSON.stringify(P.value))}catch(l){console.error("ì™„ë£Œëœ ìŠ¬ë¼ì´ë“œ ì €ì¥ ì‹¤íŒ¨:",l)}},ql=l=>new Date(l).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),Ie=D(!1),Me=l=>{if(m.lessons.length!==0)switch(l.key){case"ArrowRight":case"ArrowDown":case"PageDown":case" ":l.preventDefault(),X(r.value+1);break;case"ArrowLeft":case"ArrowUp":case"PageUp":l.preventDefault(),X(r.value-1);break;case"Home":l.preventDefault(),X(0);break;case"End":l.preventDefault(),X(F.value-1);break;case"?":l.preventDefault(),Ie.value=!Ie.value;break}},_l=async()=>{try{const l=U.value;if(!l)return;const e=E?ie(E):null;if(!e)return;const{getAuth:a}=await Ce(async()=>{const{getAuth:ae}=await Se(()=>import("./QSpinnerDots-CtV_sSP1-C4uhZ7_-.js"),__vite__mapDeps([0,1,2])).then(Z=>Z.i);return{getAuth:ae}},ge([0,1,2])),n=a(E).currentUser?.uid;if(!n)return;const p=de.value?`polls/${l.pollId}/votes/${n}`:`polls/${l.pollId}/userVotes/${n}`,Q=await fe(H(e,p));if(!Q.exists())return;const R=Q.val(),K=document.querySelector(".slide-viewer");if(!K||!K.contentWindow)return;typeof R=="string"&&/^\d+$/.test(R)?K.contentWindow.postMessage({type:"poll-state",pollId:l.pollId,optionId:String(R)},"*"):R&&K.contentWindow.postMessage({type:"poll-state",pollId:l.pollId,text:String(R)},"*")}catch(l){console.warn("âš ï¸ poll ìƒíƒœ ë™ê¸°í™” ì‹¤íŒ¨:",l)}},Il=async()=>{try{if(!oe.value)return;const l=U.value;if(!l)return;const e=E?ie(E):null;if(!e)return;const a=H(e,`polls/${l.pollId}/meta`),n=(await fe(a)).val()||{};(!n.question||String(n.question).trim()==="")&&(await Ue(a,{...n,question:ce.value}),console.log("ğŸ“ meta.question ë³´ê°•:",l.pollId,ce.value))}catch(l){console.warn("âš ï¸ meta.question ë³´ê°• ì‹¤íŒ¨:",l)}};Ne(async()=>{$(),await Ge(),document.addEventListener("keydown",Me);const l=E?ie(E):null,e=async a=>{try{const n=a.data||{};if(n&&typeof n.type=="string"){if(n.type==="slide-next"){X(r.value+1);return}else if(n.type==="slide-prev"){X(r.value-1);return}else if(n.type==="slide-first"){X(0);return}else if(n.type==="slide-last"){X(F.value-1);return}}if(!n||n.type!=="poll-vote"||!l||L.value!=="student")return;const{pollId:p,optionId:Q,text:R}=n,K=(await Ce(async()=>{const{getAuth:M}=await Se(()=>import("./QSpinnerDots-CtV_sSP1-C4uhZ7_-.js"),__vite__mapDeps([0,1,2])).then($e=>$e.i);return{getAuth:M}},ge([0,1,2]))).getAuth(E).currentUser?.uid;if(!K||!p)return;const ae=H(l,`polls/${p}/votes/${K}`);if((await fe(ae)).exists())return;const Z=R||String(Q);await Ue(ae,Z),console.log("ğŸ—³ï¸ parent saved:",{pollId:p,value:Z})}catch(n){console.warn("ğŸ—³ï¸ parent save failed:",n)}};window.addEventListener("message",e),he(()=>{window.removeEventListener("message",e)})}),he(()=>{document.removeEventListener("keydown",Me)}),pe(()=>b.params.courseId,l=>{l&&Ge()},{immediate:!0}),pe(()=>b.query.slide,l=>{if(l&&m.lessons.length>0){const e=parseInt(l)||0;r.value=Math.min(e,F.value-1)}}),pe(()=>m.lessons.map(l=>l?.slides).join(","),async()=>{try{const l=G.value||"ai-workshop";await m.loadLockStatusFromFirestore(l),console.log("ğŸ”’ StudentView: lessons ê°±ì‹  â†’ Firestore ì ê¸ˆ ì¬ì ìš© ì™„ë£Œ")}catch(l){console.warn("âš ï¸ StudentView: Firestore ì ê¸ˆ ì¬ì ìš© ì‹¤íŒ¨(ë¬´ì‹œ ê°€ëŠ¥):",l)}},{immediate:!1});const $l=l=>{const e=`/#/poll-result?pollId=${encodeURIComponent(l)}`;window.open(e,"_blank","noopener,noreferrer,width=520,height=420")},Cl=async l=>{try{if(!oe.value||!await d.dialog({title:"ê²°ê³¼ ì´ˆê¸°í™”",message:`í•´ë‹¹ íˆ¬í‘œì˜ ë‚˜ì˜ ì„ íƒ(LocalStorage)ê³¼ RTDBì˜ í‘œê¸°ë¥¼ ì‚­ì œí• ê¹Œìš”?
ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`,cancel:!0,ok:{label:"ì´ˆê¸°í™”",color:"negative"}}).onOk(()=>!0).onCancel(()=>!1))return;try{Object.keys(localStorage).filter(a=>a.toLowerCase().includes("poll")).forEach(a=>localStorage.removeItem(a))}catch{}const e=E?ie(E):null;if(e){const{getAuth:a}=await Ce(async()=>{const{getAuth:p}=await Se(()=>import("./QSpinnerDots-CtV_sSP1-C4uhZ7_-.js"),__vite__mapDeps([0,1,2])).then(Q=>Q.i);return{getAuth:p}},ge([0,1,2])),n=a(E).currentUser?.uid;n&&await Ul(H(e,`polls/${l}/userVotes/${n}`)).catch(()=>{})}d.notify({type:"positive",message:"íˆ¬í‘œ ê²°ê³¼ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.",position:"top"});try{document.querySelector(".slide-viewer")?.contentWindow?.postMessage({type:"poll-state",pollId:l,optionId:""},"*")}catch{}}catch{d.notify({type:"negative",message:"ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",position:"top"})}},z=D({visible:!1,question:"",options:[],correctIndex:null,answerText:"",lastChoice:null,isOX:!1,revealed:!1}),Sl=()=>{try{const l=document.querySelector(".slide-viewer");if(!l||!l.contentDocument)return null;const e=l.contentDocument;if(!e.body.classList.contains("quiz-slide"))return null;const a=(e.querySelector(".quiz-question")?.textContent||"").trim(),n=Array.from(e.querySelectorAll(".quiz-option")).map(M=>(M.textContent||"").replace(/^\d+\.\s*/,"").trim()),p=(e.getElementById("quiz-answer-data")?.textContent||"").trim(),Q=n.map(M=>M.replace(/\s+/g,"")),R=Q[0]??"",K=Q[1]??"",ae=Q.length===2&&(/^(ë§ë‹¤|ê·¸ë ‡ë‹¤|O)$/i.test(R)||/^(ì•„ë‹ˆë‹¤|ì•„ë‹ˆì˜¤|ê·¸ë ‡ì§€ì•Šë‹¤|X)$/i.test(K))||/ì •ë‹µ\s*[:\-â€“]?\s*[OX]/i.test(p);let Z=null;if(ae){const M=/ì •ë‹µ\s*[:\-â€“]?\s*O/i.test(p),$e=/ì •ë‹µ\s*[:\-â€“]?\s*X/i.test(p);M?Z=1:$e&&(Z=2)}else{const M=p.match(/(^|\D)(\d+)(?=\D|$)/);Z=M?Number(M[2]):null}return{question:a,options:n,correctIndex:Z,answerText:p,isOX:!!ae}}catch{return null}},Vl=async()=>{const l=Sl();if(!l||!l.question||l.options.length===0){z.value={visible:!1,question:"",options:[],correctIndex:null,answerText:"",lastChoice:null,isOX:!1,revealed:!1};return}z.value={visible:!0,question:l.question,options:l.options,correctIndex:l.correctIndex,answerText:l.answerText,lastChoice:null,isOX:l.isOX,revealed:!1}},Ll=l=>{z.value.visible&&(z.value.lastChoice=l,z.value.revealed=!0)};return(l,e)=>(u(),N(tt,{view:"hHh LpR fFf"},{default:v(()=>[!ye.value||S(y)||S(i)?(u(),N(Hl,{key:0,modelValue:C.value,"onUpdate:modelValue":e[0]||(e[0]=a=>C.value=a),"show-if-above":"",bordered:"",class:"bg-grey-1",width:300},{default:v(()=>[s(Yl,{class:"fit"},{default:v(()=>[t("div",jt,[e[24]||(e[24]=t("div",{class:"text-h6 text-weight-bold q-mb-md"},"ğŸ“š AI Workshop ê°•ì˜",-1)),t("div",Gt,[e[19]||(e[19]=t("div",{class:"text-subtitle2 text-weight-medium q-mb-sm"},"ğŸ“– ê°•ì˜ ì •ë³´",-1)),s(me,{flat:"",bordered:""},{default:v(()=>[s(le,null,{default:v(()=>[e[18]||(e[18]=t("div",{class:"text-body2"}," AI Workshop ê°•ì˜ì…ë‹ˆë‹¤. ë§ˆí¬ë‹¤ìš´ ìŠ¬ë¼ì´ë“œë¥¼ HTMLë¡œ ë³€í™˜í•˜ì—¬ í•™ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ",-1)),t("div",Xt,[s(ee,{name:"person",size:"xs"}),e[17]||(e[17]=B(" AI Workshop ",-1))]),t("div",Mt,[s(ee,{name:"schedule",size:"xs"}),B(" "+V(ql(new Date().toISOString())),1)])]),_:1,__:[18]})]),_:1})]),e[25]||(e[25]=t("div",{class:"text-subtitle2 text-weight-medium q-mb-sm"},"ğŸ“– ê°•ì˜ ëª©ì°¨",-1)),s(jl,null,{default:v(()=>[(u(!0),k(be,null,xe(Y.value,(a,n)=>(u(),N(Gl,{key:n,clickable:"",active:n===r.value,onClick:p=>X(n),class:"q-mb-sm"},{default:v(()=>[s(De,{avatar:""},{default:v(()=>[s(ee,{name:(r.value,"slideshow"),color:n===r.value?"primary":"grey",size:"sm"},null,8,["name","color"])]),_:2},1024),s(De,null,{default:v(()=>[s(Xl,null,{default:v(()=>[B(V(a.title),1)]),_:2},1024)]),_:2},1024),s(De,{side:""},{default:v(()=>[P.value.includes(n)?(u(),N(ee,{key:0,name:"check_circle",color:"positive",size:"sm"})):_("",!0)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1}),t("div",Ht,[e[20]||(e[20]=t("div",{class:"text-subtitle2 text-weight-medium q-mb-sm"},"ğŸ“Š í•™ìŠµ ì§„í–‰ë¥ ",-1)),s(Fe,{value:ul.value,color:"primary",class:"q-mb-sm"},null,8,["value"]),t("div",Yt,V(P.value.length)+" / "+V(F.value)+" ìŠ¬ë¼ì´ë“œ ì™„ë£Œ ",1)]),t("div",Jt,[e[23]||(e[23]=t("div",{class:"text-subtitle2 text-weight-medium q-mb-sm"},"ğŸ“ˆ í•™ìŠµ í†µê³„",-1)),s(me,{flat:"",bordered:""},{default:v(()=>[s(le,null,{default:v(()=>[t("div",Kt,[t("div",Zt,[t("div",eo,V(F.value),1),e[21]||(e[21]=t("div",{class:"text-caption"},"ì „ì²´ ìŠ¬ë¼ì´ë“œ",-1))]),t("div",lo,[t("div",to,V(J.value?1:0),1),e[22]||(e[22]=t("div",{class:"text-caption"},"í•™ìŠµ ì™„ë£Œ",-1))])]),t("div",oo,[s(Fe,{value:J.value?1:0,color:"positive",class:"q-mt-xs"},null,8,["value"]),t("div",ao,V(J.value?"í•™ìŠµ ì™„ë£Œ!":"ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œì—ì„œ ì™„ë£Œ ê°€ëŠ¥"),1)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["modelValue"])):_("",!0),s(ot,null,{default:v(()=>[ye.value&&!S(y)&&!S(i)?(u(),k("div",so,[t("div",no,[s(ee,{name:"school",size:"100px",color:"primary",class:"q-mb-lg"}),e[26]||(e[26]=t("div",{class:"text-h4 text-weight-bold q-mb-md"},"í•™ìŠµì„ ìœ„í•´ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤",-1)),e[27]||(e[27]=t("div",{class:"text-body1 text-grey-7 q-mb-lg"}," AI Workshop ê°•ì˜ë¥¼ ìˆ˜ê°•í•˜ë ¤ë©´ Google ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ê±°ë‚˜ ê²ŒìŠ¤íŠ¸ ëª¨ë“œë¥¼ ì´ìš©í•˜ì„¸ìš”. ",-1)),t("div",io,[s(A,{color:"primary",icon:"login",label:"Googleë¡œ ë¡œê·¸ì¸",size:"lg",onClick:dl}),s(A,{color:"orange",icon:"person",label:"ê²ŒìŠ¤íŠ¸ ëª¨ë“œ",size:"lg",onClick:vl})])])])):(u(),N(lt,{key:1,class:"q-pa-sm"},{default:v(()=>[t("div",ro,[t("div",uo,[t("div",co,V(S(m).lessons.length>0?"AI Workshop ê°•ì˜":"ê°•ì˜ ë¡œë”© ì¤‘..."),1),t("div",vo,V(ce.value),1)]),t("div",po,[t("div",mo,[S(y)?(u(),k("div",yo,[s(Oe,{color:"secondary","text-color":"white",icon:"person",label:S(w)},null,8,["label"])])):S(i)?(u(),k("div",fo,[s(Oe,{color:"orange","text-color":"white",icon:"person",label:S(x)?.name||"ê²ŒìŠ¤íŠ¸"},null,8,["label"])])):_("",!0),S(Ae)()?(u(),k("div",go,[s(A,{flat:"",round:"",dense:"",icon:"logout",color:"grey-7",onClick:Xe},{default:v(()=>[s(ve,null,{default:v(()=>e[28]||(e[28]=[B("í•™ìŠµ ì¢…ë£Œ",-1)])),_:1,__:[28]})]),_:1})])):ye.value&&(S(y)||S(i))?(u(),k("div",ho,[s(A,{flat:"",round:"",dense:"",icon:S(T)?void 0:"logout",color:"grey-7",onClick:Xe},{default:v(()=>[S(T)?(u(),N(Ve,{key:0,size:"24px",class:"q-mr-xs"},{default:v(()=>[t("img",{src:S(T),alt:S(w)},null,8,bo)]),_:1})):_("",!0),s(ve,null,{default:v(()=>[B(V(S(w)||S(x)?.name||"ì‚¬ìš©ì")+" (ë¡œê·¸ì•„ì›ƒ)",1)]),_:1})]),_:1},8,["icon"])])):_("",!0),t("div",xo,[s(Oe,{color:"primary","text-color":"white",icon:"school",label:"í•™ìŠµ ëª¨ë“œ"})])])])]),Ie.value?(u(),N(Zl,{key:0,class:"bg-info text-white q-mb-md",rounded:""},{avatar:v(()=>[s(ee,{name:"keyboard"})]),default:v(()=>[e[29]||(e[29]=t("div",{class:"text-body2"},[t("strong",null,"í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤:"),t("br"),B(" â† â†’ : ì´ì „/ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ | â†‘ â†“ : ì´ì „/ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ"),t("br"),B(" Home/End : ì²«/ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œ | Space : ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ"),t("br"),B(" ? : ì´ ë„ì›€ë§ í† ê¸€ ")],-1))]),_:1,__:[29]})):_("",!0),t("div",ko,[_e.value?(u(),k("div",wo,[t("iframe",{src:_e.value,class:"slide-viewer",onLoad:il},null,40,qo),z.value.visible?(u(),k("div",{key:0,class:"quiz-overlay",onClick:e[1]||(e[1]=ne(()=>{},["stop"]))},[t("div",_o,[t("div",Io,V(z.value.question),1),t("div",$o,[(u(!0),k(be,null,xe(z.value.options,(a,n)=>(u(),k("div",{class:"col-12 col-sm-6",key:n},[s(A,{outline:"",rounded:"",size:"lg",class:"full-width text-left option-btn",label:n+1+". "+a,onClick:ne(p=>Ll(n+1),["stop"])},null,8,["label","onClick"])]))),128))]),z.value.revealed&&z.value.answerText?(u(),k("div",Co,[z.value.revealed&&z.value.correctIndex&&z.value.lastChoice?(u(),k("div",So,V(z.value.lastChoice===z.value.correctIndex?"ì •ë‹µì…ë‹ˆë‹¤! âœ…":"ì˜¤ë‹µì…ë‹ˆë‹¤. âŒ"),1)):_("",!0),t("div",Vo,[z.value.isOX?_("",!0):(u(),k("div",Lo,[e[30]||(e[30]=t("b",null,"ì •ë‹µ:",-1)),B(" "+V(z.value.correctIndex),1)])),t("div",{innerHTML:z.value.answerText.replace(/\n/g,"<br/>")},null,8,Do)])])):_("",!0)])])):_("",!0),U.value&&de.value&&W.value?(u(),k("div",{key:1,class:"iframe-blocker",onClick:e[2]||(e[2]=ne(()=>{},["stop"]))})):_("",!0),U.value&&de.value&&W.value?(u(),k("div",{key:2,class:"poll-overlay",onClick:e[3]||(e[3]=ne(()=>{},["stop"]))},[s(Rt,{"poll-id":U.value.pollId},null,8,["poll-id"])])):U.value&&oe.value&&U.value.result==="bar"?(u(),k("div",{key:3,class:"poll-overlay",onClick:e[4]||(e[4]=ne(()=>{},["stop"]))},[s(pt,{"poll-id":U.value.pollId},null,8,["poll-id"])])):U.value&&oe.value&&U.value.result==="word"?(u(),k("div",{key:4,class:"poll-overlay",onClick:e[5]||(e[5]=ne(()=>{},["stop"]))},[s(Wt,{"poll-id":U.value.pollId},null,8,["poll-id"])])):_("",!0),U.value&&de.value&&!W.value?(u(),N(A,{key:5,class:"poll-fab",round:"",color:"primary",icon:"how_to_vote",onClick:e[6]||(e[6]=a=>W.value=!0)},{default:v(()=>[s(ve,null,{default:v(()=>e[31]||(e[31]=[B("íˆ¬í‘œí•˜ê¸°",-1)])),_:1,__:[31]})]),_:1})):_("",!0),U.value&&oe.value?(u(),N(A,{key:6,class:"poll-fab q-mr-md",round:"",color:"secondary",icon:"insights",onClick:e[7]||(e[7]=a=>$l(U.value.pollId)),style:{right:"80px"}},{default:v(()=>[s(ve,null,{default:v(()=>e[32]||(e[32]=[B("ê²°ê³¼ ë³´ê¸°",-1)])),_:1,__:[32]})]),_:1})):_("",!0),U.value&&oe.value?(u(),N(A,{key:7,class:"poll-fab q-mr-md",round:"",color:"negative",icon:"delete",onClick:e[8]||(e[8]=a=>Cl(U.value.pollId)),style:{right:"140px"}},{default:v(()=>[s(ve,null,{default:v(()=>e[33]||(e[33]=[B("ê²°ê³¼ ì´ˆê¸°í™”",-1)])),_:1,__:[33]})]),_:1})):_("",!0)])):(u(),k("div",Oo,[s(et,{size:"50px",color:"primary"}),e[34]||(e[34]=t("div",{class:"text-h6 q-mt-md"},"ìŠ¬ë¼ì´ë“œë¥¼ ë¡œë”©í•˜ëŠ” ì¤‘...",-1))]))])]),_:1}))]),_:1}),!ye.value||S(y)||S(i)?(u(),N(ll,{key:1,position:"bottom",offset:[0,0]},{default:v(()=>[t("div",Ao,[t("div",zo,[t("div",Eo,[s(A,{round:"",size:"lg",icon:"chevron_left",color:"blue","text-color":"white",disable:r.value===0,onClick:e[9]||(e[9]=a=>X(r.value-1))},null,8,["disable"])]),t("div",To,[t("div",Uo,[t("div",Ro,V(r.value+1),1),t("div",Po,V(ce.value),1)])]),r.value===F.value-1?(u(),k("div",Fo,[s(A,{color:J.value?"positive":"primary",icon:J.value?"check_circle":"done",label:J.value?"ì™„ë£Œë¨":"í•™ìŠµ ì™„ë£Œ",onClick:hl,size:"md"},null,8,["color","icon","label"])])):_("",!0),t("div",Bo,[s(A,{round:"",size:"lg",icon:"chevron_right",color:"blue","text-color":"white",disable:r.value===F.value-1,onClick:e[10]||(e[10]=a=>X(r.value+1))},null,8,["disable"])])])])]),_:1})):_("",!0),s(ll,{position:"bottom-right",offset:[18,80]},{default:v(()=>[s(A,{fab:"",icon:"menu",color:"primary",onClick:e[11]||(e[11]=a=>C.value=!C.value)})]),_:1}),s(Re,{modelValue:re.value,"onUpdate:modelValue":e[12]||(e[12]=a=>re.value=a),persistent:""},{default:v(()=>[s(me,{style:{"min-width":"350px"}},{default:v(()=>[s(le,{class:"row items-center"},{default:v(()=>[s(Ve,{icon:"exit_to_app",color:"primary","text-color":"white"}),t("span",No,V(nl.value),1)]),_:1}),s(le,null,{default:v(()=>e[35]||(e[35]=[t("p",null,"í™”ë©´ì„ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",-1)])),_:1,__:[35]}),s(Pe,{align:"right"},{default:v(()=>[Ke(s(A,{flat:"",label:"ì•„ë‹ˆì˜¤",color:"grey"},null,512),[[el]]),s(A,{unelevated:"",label:"ì˜ˆ",color:"primary",onClick:fl})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(Re,{modelValue:ue.value,"onUpdate:modelValue":e[13]||(e[13]=a=>ue.value=a),persistent:""},{default:v(()=>[s(me,{style:{"min-width":"400px"}},{default:v(()=>[s(le,{class:"row items-center"},{default:v(()=>[s(Ve,{icon:"logout",color:"orange","text-color":"white"}),e[36]||(e[36]=t("span",{class:"q-ml-sm text-h6"},"ë¡œê·¸ì•„ì›ƒ í™•ì¸",-1))]),_:1,__:[36]}),s(le,null,{default:v(()=>[t("div",Qo,[t("strong",null,V(S(w)||S(x)?.name||"ì‚¬ìš©ì"),1),e[37]||(e[37]=B("ë‹˜, ì •ë§ë¡œ ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ",-1))]),e[38]||(e[38]=t("div",{class:"text-caption text-grey-7"},"ë¡œê·¸ì•„ì›ƒí•˜ë©´ í˜„ì¬ í•™ìŠµ ì§„í–‰ ìƒí™©ì´ ì €ì¥ë©ë‹ˆë‹¤.",-1))]),_:1,__:[38]}),s(Pe,{align:"right"},{default:v(()=>[Ke(s(A,{flat:"",label:"ì·¨ì†Œ",color:"grey"},null,512),[[el]]),s(A,{unelevated:"",label:"ë¡œê·¸ì•„ì›ƒ",color:"orange",onClick:gl})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(Jl,{modelValue:f.value,"onUpdate:modelValue":e[14]||(e[14]=a=>f.value=a)},null,8,["modelValue"]),s(Kl,{modelValue:h.value,"onUpdate:modelValue":e[15]||(e[15]=a=>h.value=a),onGuestLoginSuccess:pl,onGoogleLoginRequest:ml},null,8,["modelValue"]),s(Lt,{modelValue:te.value,"onUpdate:modelValue":e[16]||(e[16]=a=>te.value=a),onSubmit:bl,onCompleted:xl},null,8,["modelValue"])]),_:1}))}}),na=qe(Wo,[["__scopeId","data-v-4f817430"]]);export{na as default};
