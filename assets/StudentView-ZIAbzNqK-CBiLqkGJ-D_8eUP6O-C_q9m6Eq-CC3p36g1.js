const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/QSpinnerDots-DmD6LJEW-mqbZkDZd-DEZvrJgm-Dz7aj0ta-DJp4I3dk.js","assets/index-bfaO29LJ.js","assets/index-DJuvGez9.css"])))=>i.map(i=>d[i]);
import{e as Ie,c as Ne,C as zl,o as Rl,h as ll,q as D,H as h,g as pe,S as Xe,E,G as ie,A as ke,W as Q,M as c,L as v,Y as I,j as s,b as S,F as a,K as j,f as ee,x as V,a as k,V as we,d as qe,T as A,z as Le,Z as ne,t as Ge,O as tl,P as De,R as Te,U as Ae,X as Ue,_ as Ee,a3 as ye,a1 as G,a2 as Me,a0 as Bl,at as al,au as _e,D as Wl,l as Ze,N as jl,m as Oe,r as Ql,u as rl,p as P,ao as Ml,av as Fl,aw as Pl,ax as ol,ai as Hl,$ as sl}from"./index-bfaO29LJ.js";import{t as me,Q as le,W as ve,o as Fe,e as Pe,G as Nl,s as Xl}from"./QDialog-CXn2kBax-C53UdG9D-kpCzhlJn-Ct8CcPim-C14yZ5bv.js";import{s as Gl,o as Zl,n as ze,u as Jl,r as He,e as Yl,Z as Kl}from"./use-checkbox-Hdp5Jlzs-BYBvyloL-3mf2MSmz-H1cNXnvb-isr4ghTG.js";import{m as et,f as lt,u as nl,h as tt,b as at,p as ot}from"./GuestLoginDialog-C7xr6EXW-B9BOrQev-CpKj9GjC-BcTnplim-amqq9nkv.js";import{J as Re}from"./QChip-BJIOjoIv-Djywe0kj-DBt41SH2-XBnHkNao-C4tEq5Mn.js";import{m as st}from"./QBanner-BY0ggvyL-C3yUuPRa-BwL-ftRS-cN7vJrVL-BjnZ2Mn0.js";import{Q as nt}from"./QSpinnerDots-DmD6LJEW-mqbZkDZd-DEZvrJgm-Dz7aj0ta-DJp4I3dk.js";import{m as it}from"./QPage-B1iJaq8H-BMxUDXKn-BbD7X6VY-Dn1durxV-DWHOfzTo.js";import{a as rt,s as ut}from"./QLayout-s6SDzMwt-C7GQ1361-CntuJlM8-BbVbuoQW-COWVB1Hm.js";import{t as ct,l as dt,R as Be,H as vt,e as pt}from"./useGuestAuth-Mxd3jo-z-qhm8zfOu-DqDS1hTw-Cc0JXHbt-OFDxhl0U.js";import{d as $e,s as ul,u as cl}from"./_plugin-vue_export-helper-DXafCR7g-cPVpln50-BTORSsEs-W54BP04g-B7ga8-1f.js";import{y as mt,g as ft,k as yt,p as gt,_ as ht}from"./survey-DXHWirsQ-BJaxGuvV-CPH2sThf-CR01ab35-2dIT34PE.js";import{Q as bt}from"./PollResultBar-Bydgm1gR-BKNOXBq3-DtrZHy0p-Cww5eWtn-Bf5C8IrZ.js";import"./QSeparator-Chi7pIZw-Dfi-b9On-D1KUGwCF-D0D5g8uB-BURwwSFM.js";import"./pinia-DRC1X92K-CVhvq81r-C7Q22G7M-BcPAhq85-BnAtjUhT.js";const ge=(t,n=ge,m=n.f||(n.f=["assets/QSpinnerDots-DmD6LJEW-mqbZkDZd-DEZvrJgm-Dz7aj0ta.js","assets/index-CyCqcZIQ.js","assets/index-D7VONvhQ.css"]))=>t.map(w=>m[w]),he=(t,n=he,m=n.f||(n.f=["assets/QSpinnerDots-DmD6LJEW-mqbZkDZd-DEZvrJgm.js","assets/index-D1vT6N3s.js","assets/index-C_LQcHkP.css"]))=>t.map(w=>m[w]),be=(t,n=be,m=n.f||(n.f=["assets/QSpinnerDots-DmD6LJEW-mqbZkDZd.js","assets/index-Bw1AfG2u.js","assets/index-B0WZdqPn.css"]))=>t.map(w=>m[w]),xe=(t,n=xe,m=n.f||(n.f=["assets/QSpinnerDots-DmD6LJEW.js","assets/index-BynyowXf.js","assets/index-BOcY-vOO.css"]))=>t.map(w=>m[w]),xt={position:{type:String,default:"bottom-right",validator:t=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(t)},offset:{type:Array,validator:t=>t.length===2},expand:Boolean};function kt(){const{props:t,proxy:{$q:n}}=Ze(),m=jl(Ql,Oe);if(m===Oe)return console.error("QPageSticky needs to be child of QLayout"),Oe;const w=h(()=>{const _=t.position;return{top:_.indexOf("top")!==-1,right:_.indexOf("right")!==-1,bottom:_.indexOf("bottom")!==-1,left:_.indexOf("left")!==-1,vertical:_==="top"||_==="bottom",horizontal:_==="left"||_==="right"}}),f=h(()=>m.header.offset),d=h(()=>m.right.offset),y=h(()=>m.footer.offset),q=h(()=>m.left.offset),O=h(()=>{let _=0,L=0;const x=w.value,r=n.lang.rtl===!0?-1:1;x.top===!0&&f.value!==0?L=`${f.value}px`:x.bottom===!0&&y.value!==0&&(L=`${-y.value}px`),x.left===!0&&q.value!==0?_=`${r*q.value}px`:x.right===!0&&d.value!==0&&(_=`${-r*d.value}px`);const C={transform:`translate(${_}, ${L})`};return t.offset&&(C.margin=`${t.offset[1]}px ${t.offset[0]}px`),x.vertical===!0?(q.value!==0&&(C[n.lang.rtl===!0?"right":"left"]=`${q.value}px`),d.value!==0&&(C[n.lang.rtl===!0?"left":"right"]=`${d.value}px`)):x.horizontal===!0&&(f.value!==0&&(C.top=`${f.value}px`),y.value!==0&&(C.bottom=`${y.value}px`)),C}),T=h(()=>`q-page-sticky row flex-center fixed-${t.position} q-page-sticky--${t.expand===!0?"expand":"shrink"}`);function $(_){const L=rl(_.default);return P("div",{class:T.value,style:O.value},t.expand===!0?L:[P("div",L)])}return{$layout:m,getStickyContent:$}}const il=Ge({name:"QPageSticky",props:xt,setup(t,{slots:n}){const{getStickyContent:m}=kt();return()=>m(n)}}),wt=()=>P("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[P("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),P("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),qt=Ge({name:"QRadio",props:{...ul,...Fl,...Nl,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(t,{slots:n,emit:m}){const{proxy:w}=Ze(),f=cl(t,w.$q),d=Pl(t,Yl),y=D(null),{refocusTargetEl:q,refocusTarget:O}=Kl(t,y),T=h(()=>ol(t.modelValue)===ol(t.val)),$=h(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(t.disable===!0?" disabled":"")+(f.value===!0?" q-radio--dark":"")+(t.dense===!0?" q-radio--dense":"")+(t.leftLabel===!0?" reverse":"")),_=h(()=>{const b=t.color!==void 0&&(t.keepColor===!0||T.value===!0)?` text-${t.color}`:"";return`q-radio__inner relative-position q-radio__inner--${T.value===!0?"truthy":"falsy"}${b}`}),L=h(()=>(T.value===!0?t.checkedIcon:t.uncheckedIcon)||null),x=h(()=>t.disable===!0?-1:t.tabindex||0),r=h(()=>{const b={type:"radio"};return t.name!==void 0&&Object.assign(b,{".checked":T.value===!0,"^checked":T.value===!0?"checked":void 0,name:t.name,value:t.val}),b}),C=Xl(r);function u(b){b!==void 0&&(sl(b),O(b)),t.disable!==!0&&T.value!==!0&&m("update:modelValue",t.val,b)}function B(b){(b.keyCode===13||b.keyCode===32)&&sl(b)}function F(b){(b.keyCode===13||b.keyCode===32)&&u(b)}Object.assign(w,{set:u});const g=wt();return()=>{const b=L.value!==null?[P("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[P(ee,{class:"q-radio__icon",name:L.value})])]:[g];t.disable!==!0&&C(b,"unshift"," q-radio__native q-ma-none q-pa-none");const te=[P("div",{class:_.value,style:d.value,"aria-hidden":"true"},b)];q.value!==null&&te.push(q.value);const re=t.label!==void 0?Hl(n.default,[t.label]):rl(n.default);return re!==void 0&&te.push(P("div",{class:"q-radio__label q-anchor--skip"},re)),P("div",{ref:y,class:$.value,tabindex:x.value,role:"radio","aria-label":t.label,"aria-checked":T.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:u,onKeydown:B,onKeyup:F},te)}}}),dl={radio:qt,checkbox:ht,toggle:ot},_t=Object.keys(dl);function We(t,n){if(typeof t=="function")return t;const m=t!==void 0?t:n;return w=>w[m]}const je=Ge({name:"QOptionGroup",props:{...ul,modelValue:{required:!0},options:{type:Array,validator:t=>t.every(Ml),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:t=>_t.includes(t)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(t,{emit:n,slots:m}){const{proxy:{$q:w}}=Ze(),f=Array.isArray(t.modelValue);t.type==="radio"?f===!0&&console.error("q-option-group: model should not be array"):f===!1&&console.error("q-option-group: model should be array in your case");const d=cl(t,w),y=h(()=>dl[t.type]),q=h(()=>We(t.optionValue,"value")),O=h(()=>We(t.optionLabel,"label")),T=h(()=>We(t.optionDisable,"disable")),$=h(()=>t.options.map(r=>({val:q.value(r),name:r.name===void 0?t.name:r.name,disable:t.disable||T.value(r),leftLabel:r.leftLabel===void 0?t.leftLabel:r.leftLabel,color:r.color===void 0?t.color:r.color,checkedIcon:r.checkedIcon,uncheckedIcon:r.uncheckedIcon,dark:r.dark===void 0?d.value:r.dark,size:r.size===void 0?t.size:r.size,dense:t.dense,keepColor:r.keepColor===void 0?t.keepColor:r.keepColor}))),_=h(()=>"q-option-group q-gutter-x-sm"+(t.inline===!0?" q-option-group--inline":"")),L=h(()=>{const r={role:"group"};return t.type==="radio"&&(r.role="radiogroup",t.disable===!0&&(r["aria-disabled"]="true")),r});function x(r){n("update:modelValue",r)}return()=>P("div",{class:_.value,...L.value},t.options.map((r,C)=>{const u=m["label-"+C]!==void 0?()=>m["label-"+C](r):m.label!==void 0?()=>m.label(r):void 0;return P("div",[P(y.value,{label:u===void 0?O.value(r):null,modelValue:t.modelValue,"onUpdate:modelValue":x,...$.value[C]},u)])}))}}),It={class:"survey-container"},$t={class:"progress-section q-mb-lg"},Ct={class:"text-caption text-grey-6"},St={class:"survey-content"},Vt={key:0,class:"survey-step"},Lt={key:1,class:"survey-step"},Dt={key:2,class:"survey-step"},Tt={key:3,class:"survey-step"},At={key:4,class:"survey-step text-center"},Ut={class:"q-mb-lg"},Qe=5,Et=Ie({__name:"SurveyDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue","submit","completed"],setup(t,{emit:n}){const m=t,w=n,f=Ne(),d=D(1),y=D({satisfaction:"",recommendation:"",additionalEducation:"",feedback:""}),q=ft,O=yt,T=gt,$=h({get:()=>m.modelValue,set:F=>w("update:modelValue",F)}),_=h(()=>d.value/Qe),L=h(()=>{switch(d.value){case 1:return y.value.satisfaction!=="";case 2:return y.value.recommendation!=="";case 3:return y.value.additionalEducation!=="";case 4:return y.value.feedback.trim()!=="";default:return!0}}),x=()=>{d.value<Qe&&d.value++,d.value===5&&C()},r=()=>{d.value>1&&d.value--},C=()=>{w("submit",{...y.value}),f.notify({type:"positive",message:"ì„¤ë¬¸ì¡°ì‚¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!",position:"top",timeout:3e3}),w("completed")},u=()=>{$.value=!1,B()},B=()=>{d.value=1,y.value={satisfaction:"",recommendation:"",additionalEducation:"",feedback:""}};return pe($,F=>{F||B()}),(F,g)=>(c(),Q(Fe,{modelValue:$.value,"onUpdate:modelValue":g[4]||(g[4]=b=>$.value=b),persistent:"",maximized:""},{default:v(()=>[s(me,{class:"survey-dialog"},{default:v(()=>[s(le,{class:"bg-primary text-white text-center"},{default:v(()=>g[5]||(g[5]=[a("h4",{class:"q-my-md"},"ğŸ“ í•™ìŠµ ì™„ë£Œ ì„¤ë¬¸ì¡°ì‚¬",-1),a("p",{class:"q-mb-none"},"ê°•ì˜ ìˆ˜ê°•ì„ ì™„ë£Œí•˜ì…¨ìŠµë‹ˆë‹¤! ì†Œì¤‘í•œ ì˜ê²¬ì„ ë“¤ë ¤ì£¼ì„¸ìš”.",-1)])),_:1,__:[5]}),s(le,{class:"q-pa-lg"},{default:v(()=>[a("div",It,[a("div",$t,[s(He,{value:_.value,color:"primary",class:"q-mb-sm"},null,8,["value"]),a("div",Ct,V(d.value)+"/"+V(Qe)+" ë‹¨ê³„",1)]),a("div",St,[d.value===1?(c(),k("div",Vt,[g[6]||(g[6]=a("h5",{class:"q-mb-md"},"1. ì „ë°˜ì ì¸ ê°•ì˜ ë§Œì¡±ë„",-1)),g[7]||(g[7]=a("p",{class:"text-grey-7 q-mb-lg"},"ì´ë²ˆ ê°•ì˜ì— ëŒ€í•œ ì „ë°˜ì ì¸ ë§Œì¡±ë„ë¥¼ í‰ê°€í•´ì£¼ì„¸ìš”.",-1)),s(je,{modelValue:y.value.satisfaction,"onUpdate:modelValue":g[0]||(g[0]=b=>y.value.satisfaction=b),options:S(q),color:"primary",inline:""},null,8,["modelValue","options"])])):I("",!0),d.value===2?(c(),k("div",Lt,[g[8]||(g[8]=a("h5",{class:"q-mb-md"},"2. ì§€ì¸ ì¶”ì²œ ì˜í–¥",-1)),g[9]||(g[9]=a("p",{class:"text-grey-7 q-mb-lg"},"ì´ ê°•ì˜ë¥¼ ì§€ì¸ì´ë‚˜ ë™ë£Œì—ê²Œ ì¶”ì²œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",-1)),s(je,{modelValue:y.value.recommendation,"onUpdate:modelValue":g[1]||(g[1]=b=>y.value.recommendation=b),options:S(O),color:"primary",inline:""},null,8,["modelValue","options"])])):I("",!0),d.value===3?(c(),k("div",Dt,[g[10]||(g[10]=a("h5",{class:"q-mb-md"},"3. ì¶”ê°€ êµìœ¡ ì˜í–¥",-1)),g[11]||(g[11]=a("p",{class:"text-grey-7 q-mb-lg"}," AI ê´€ë ¨ ì¶”ê°€ êµìœ¡ì´ ìˆë‹¤ë©´ ì°¸ì—¬í•˜ì‹¤ ì˜í–¥ì´ ìˆìœ¼ì‹ ê°€ìš”? ",-1)),s(je,{modelValue:y.value.additionalEducation,"onUpdate:modelValue":g[2]||(g[2]=b=>y.value.additionalEducation=b),options:S(T),color:"primary",inline:""},null,8,["modelValue","options"])])):I("",!0),d.value===4?(c(),k("div",Tt,[g[12]||(g[12]=a("h5",{class:"q-mb-md"},"4. ììœ  ì˜ê²¬",-1)),g[13]||(g[13]=a("p",{class:"text-grey-7 q-mb-lg"}," ê°•ì˜ì— ëŒ€í•œ ì˜ê²¬ì´ë‚˜ ê°œì„ ì‚¬í•­ì„ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”. ",-1)),s(pt,{modelValue:y.value.feedback,"onUpdate:modelValue":g[3]||(g[3]=b=>y.value.feedback=b),type:"textarea",placeholder:"ê°•ì˜ì— ëŒ€í•œ ì˜ê²¬, ê°œì„ ì‚¬í•­, ë˜ëŠ” ì¶”ê°€ë¡œ ê¶ê¸ˆí•œ ì ì„ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”...",rows:"6",outlined:"",autogrow:""},null,8,["modelValue"])])):I("",!0),d.value===5?(c(),k("div",At,[a("div",Ut,[s(ee,{name:"check_circle",size:"80px",color:"positive"})]),g[14]||(g[14]=a("h5",{class:"q-mb-md"},"ì„¤ë¬¸ì¡°ì‚¬ ì™„ë£Œ!",-1)),g[15]||(g[15]=a("p",{class:"text-grey-7"},[j(" ì†Œì¤‘í•œ ì˜ê²¬ì„ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤."),a("br"),j(" ë” ë‚˜ì€ ê°•ì˜ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ë…¸ë ¥í•˜ê² ìŠµë‹ˆë‹¤. ")],-1))])):I("",!0)])])]),_:1}),s(Pe,{align:"right",class:"q-pa-lg"},{default:v(()=>[d.value>1&&d.value<5?(c(),Q(A,{key:0,flat:"",label:"ì´ì „",onClick:r,class:"q-mr-sm"})):I("",!0),d.value<5?(c(),Q(A,{key:1,label:d.value===4?"ì™„ë£Œ":"ë‹¤ìŒ",color:d.value===4?"positive":"primary",onClick:x,disable:!L.value},null,8,["label","color","disable"])):I("",!0),d.value===5?(c(),Q(A,{key:2,flat:"",label:"ë‹«ê¸°",onClick:u,color:"primary"})):I("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Ot=$e(Et,[["__scopeId","data-v-faec0bd2"]]),zt={key:0,class:"poll-vote"},Rt={class:"poll-header"},Bt={class:"title"},Wt={key:0,class:"subtitle"},jt={key:0,class:"options"},Qt={key:1,class:"voted"},Mt=Ie({__name:"PollVote",props:{pollId:{}},setup(t){const n=t,m=Ne(),w=E?ie(E):null,f=E?al(E):al(),d=D(null),y=D(null),q=D(!1);let O=null,T=null,$=null;Xe(async()=>{if(!w){console.warn("âš ï¸ RTDB ë¯¸ì´ˆê¸°í™”: íˆ¬í‘œ ë¹„í™œì„±"),q.value=!1;return}console.log("ğŸ—³ï¸ PollVote mount:",{pollId:n.pollId,rtdbUrl:"https://slide-view-91a09-default-rtdb.asia-southeast1.firebasedatabase.app/",appDbUrl:E?.options?.databaseURL||null});try{O=_e(G(w,`polls/${n.pollId}/meta`),r=>{d.value=r.val()||null,console.log("ğŸ—³ï¸ meta:",d.value)});const x=f.currentUser?.uid;console.log("ğŸ—³ï¸ auth uid:",x),x?T=_e(G(w,`polls/${n.pollId}/votes/${x}`),r=>{y.value=r.exists()?r.val():null,console.log("ğŸ—³ï¸ myVote:",y.value),q.value=!0}):q.value=!0}catch(x){console.error("ğŸ—³ï¸ RTDB êµ¬ë… ì‹¤íŒ¨:",x),q.value=!0}$=window.setTimeout(()=>{q.value||(q.value=!0)},2500)}),ke(()=>{O&&O(),T&&T(),$&&window.clearTimeout($)});const _=h(()=>d.value?.open!==!1),L=async x=>{try{if(console.log("ğŸ—³ï¸ vote click:",{pollId:n.pollId,optionId:x}),!w)throw new Error("DB not ready");if(!_.value){m.notify({type:"warning",message:"í˜„ì¬ íˆ¬í‘œëŠ” ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."});return}const r=f.currentUser?.uid;if(!r){m.notify({type:"warning",message:"ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."});return}const C=`polls/${n.pollId}/votes/${r}`;console.log("ğŸ—³ï¸ set path:",C),await Me(G(w,C),x);const u=await ye(G(w,C));console.log("ğŸ—³ï¸ verify read:",{path:C,value:u.val()}),m.notify({type:"positive",message:"íˆ¬í‘œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."})}catch(r){console.error("íˆ¬í‘œ ì‹¤íŒ¨:",r),m.notify({type:"negative",message:r?.message||"íˆ¬í‘œ ì‹¤íŒ¨"})}};return(x,r)=>d.value?(c(),k("div",zt,[a("div",Rt,[a("div",Bt,V(d.value?.question||"íˆ¬í‘œ"),1),d.value?.description?(c(),k("div",Wt,V(d.value?.description),1)):I("",!0)]),q.value?(c(),k("div",jt,[(c(!0),k(we,null,qe(d.value?.options||{},(C,u)=>(c(),k("div",{key:u,class:"option-item"},[s(A,{unelevated:"",color:"primary",class:"full-width q-mb-sm",label:C,disable:!!y.value,onClick:B=>L(u)},null,8,["label","disable","onClick"])]))),128))])):I("",!0),y.value?(c(),k("div",Qt,"íˆ¬í‘œ ì™„ë£Œ: "+V(d.value?.options?.[y.value]),1)):I("",!0)])):I("",!0)}}),Ft=$e(Mt,[["__scopeId","data-v-03dfac5f"]]),Pt={class:"poll-word"},Ht={class:"title"},Nt={key:0,class:"loading"},Xt={key:1,class:"cloud"},Gt=Ie({__name:"PollResultWord",props:{pollId:{}},setup(t){const n=t,m=E?ie(E):null,w=D(null),f=D({}),d=D(!1);let y=null,q=null;Xe(()=>{m&&(y=_e(G(m,`polls/${n.pollId}/meta`),$=>{w.value=$.val()||null,d.value=!0}),q=_e(G(m,`polls/${n.pollId}/tally`),$=>{f.value=$.val()||{}}))}),ke(()=>{y&&y(),q&&q()});const O=h(()=>{const $=Object.values(f.value||{});return $.length?Math.max(...$):0}),T=$=>{const _=O.value||1,L=Math.round(12+24*($/_)),x=.5+.5*($/_);return{fontSize:L+"px",opacity:x.toFixed(2),color:`hsl(210, 70%, ${Math.round(30+30*($/_))}%)`}};return($,_)=>(c(),k("div",Pt,[a("div",Ht,V(w.value?.question||"íˆ¬í‘œ ê²°ê³¼"),1),d.value?(c(),k("div",Xt,[(c(!0),k(we,null,qe(w.value?.options||{},(L,x)=>(c(),k("span",{key:x,class:"word",style:Wl(T(f.value[x]||0))},V(L),5))),128))])):(c(),k("div",Nt,"ë¡œë”© ì¤‘..."))]))}}),Zt=$e(Gt,[["__scopeId","data-v-604aff85"]]),Jt={class:"q-pa-md"},Yt={class:"course-info q-mb-lg"},Kt={class:"text-caption text-grey-7 q-mt-sm"},ea={class:"text-caption text-grey-7"},la={class:"q-mt-lg"},ta={class:"text-caption text-grey-7"},aa={class:"q-mt-lg"},oa={class:"row q-col-gutter-sm"},sa={class:"col-6"},na={class:"text-h6 text-primary"},ia={class:"col-6"},ra={class:"text-h6 text-positive"},ua={class:"q-mt-sm"},ca={class:"text-caption text-grey-7 q-mt-xs"},da={key:0,class:"login-required"},va={class:"text-center q-pa-xl"},pa={class:"row justify-center q-gutter-md"},ma={class:"row items-center q-mb-sm"},fa={class:"col"},ya={class:"text-h5 text-weight-bold"},ga={class:"text-subtitle1 text-grey-7"},ha={class:"col-auto"},ba={class:"row items-center q-gutter-sm"},xa={key:0,class:"col-auto"},ka={key:1,class:"col-auto"},wa={key:2,class:"col-auto"},qa={key:3,class:"col-auto"},_a=["src","alt"],Ia={class:"col-auto"},$a={class:"slide-container"},Ca={key:0,class:"slide-viewer-container"},Sa=["src"],Va={class:"quiz-card"},La={class:"text-subtitle1 q-mb-sm"},Da={class:"row q-col-gutter-md options-grid"},Ta={key:0,class:"q-mt-md q-pa-sm bg-grey-1 rounded-borders"},Aa={key:0,class:"text-positive text-weight-bold q-mb-xs"},Ua={class:"text-body2"},Ea={key:0,class:"q-mb-xs"},Oa=["innerHTML"],za={key:1,class:"loading-state"},Ra={class:"fixed-navigation-bar"},Ba={class:"row items-center justify-center q-pa-sm"},Wa={class:"col-auto q-mr-lg"},ja={class:"col-auto q-mx-lg"},Qa={class:"text-center"},Ma={class:"text-h6 text-weight-bold"},Fa={class:"text-caption text-grey-7"},Pa={key:0,class:"col-auto q-mx-lg"},Ha={class:"col-auto q-ml-lg"},Na={class:"q-ml-sm text-h6"},Xa={class:"text-body1 q-mb-md"},Ga=Ie({__name:"StudentView",setup(t){const n=Ne(),m=zl(),w=Rl(),f=ct(),{user:d,isAuthenticated:y,displayName:q,photoURL:O,logout:T,initAuth:$,signInWithGoogle:_}=ll(),{userRole:L}=ll(),{guestUser:x,isGuestAuthenticated:r}=dt(),C=D(!0),u=D(0),B=D([]),F=D(!1),g=D(!1),b=D(!1),te=D(!1),re=D(!1),vl=D("í•™ìŠµ ì¢…ë£Œ"),ue=D(!1),fe=D(localStorage.getItem("requireStudentLogin")!=="false"),H=h(()=>m.params.courseId),W=h(()=>Z.value.length),Z=h(()=>{if(f.lessons.length===0)return[];const l=[];return f.lessons.forEach((e,o)=>{if(f.isChapterLocked(o)){console.log(`ğŸ”’ Chapter ${o}ê°€ ì ê²¨ìˆì–´ì„œ ê±´ë„ˆëœ€`);return}for(let i=0;i<e.slides;i++){const p=`${o}-${i}`,M=!!Je[p];if(f.isSlideLocked(o,i))if(M)console.log(`ğŸ”“ Poll ìŠ¬ë¼ì´ë“œ(${p})ëŠ” ì ê¸ˆ ë¬´ì‹œí•˜ê³  í‘œì‹œ`);else{console.log(`ğŸ”’ Slide ${p}ê°€ ì ê²¨ìˆì–´ì„œ ê±´ë„ˆëœ€`);continue}const R=e.slideTitles?.[i]||`ìŠ¬ë¼ì´ë“œ ${l.length+1}`;l.push({index:l.length,title:R,fileName:`slide-${o}-${i}.md`,lessonIndex:o,slideIndex:i})}}),l}),ce=h(()=>f.lessons.length===0||u.value>=W.value?"ìŠ¬ë¼ì´ë“œ ë¡œë”© ì¤‘...":Z.value[u.value]?.title||`ìŠ¬ë¼ì´ë“œ ${u.value+1}`),Ce=h(()=>{if(f.lessons.length===0||u.value>=W.value)return console.log("ğŸš« ìŠ¬ë¼ì´ë“œ URL ìƒì„± ì‹¤íŒ¨:",{hasLessons:f.lessons.length>0,currentIndex:u.value,totalSlides:W.value}),null;const l=Z.value[u.value];if(!l)return console.warn("ğŸš« ìŠ¬ë¼ì´ë“œ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ:",u.value),null;const e=l.fileName.replace(".md",".html"),o=`/generated/slides/${e}`;return console.log("ğŸ”— ìŠ¬ë¼ì´ë“œ URL ìƒì„±:",{index:u.value,fileName:l.fileName,slideFileName:e,url:o}),o}),pl=()=>{console.log("âœ… ìŠ¬ë¼ì´ë“œ ë¡œë“œ ì™„ë£Œ:",{index:u.value,title:ce.value,url:Ce.value}),setTimeout(()=>{try{const l=document.querySelector(".slide-viewer");l&&l.contentWindow&&l.contentDocument&&(l.contentDocument.addEventListener("click",async e=>{const o=e.target;if(o.classList.contains("copy-button")){const i=o.closest(".code-block-wrapper");if(i){const p=i.querySelector("pre code");p&&ml(p.textContent||"",o)}return}o.closest(".code-block-wrapper")||o.closest("pre")||o.closest("code")}),console.log("âœ… iframe ë‚´ë¶€ ë³µì‚¬ ê¸°ëŠ¥ ë° ë„¤ë¹„ê²Œì´ì…˜ ê¸°ëŠ¥ ì£¼ì… ì™„ë£Œ"))}catch(l){console.log("âš ï¸ iframe ë‚´ë¶€ ê¸°ëŠ¥ ì£¼ì… ì‹¤íŒ¨ (CORS ì •ì±…):",l)}},100),Ll().catch(()=>{}),ae.value&&Dl().catch(()=>{}),El().catch(()=>{});try{z.value&&de.value?F.value=!0:F.value=!1}catch{}},ml=async(l,e)=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(l);else{const p=document.createElement("textarea");p.value=l,p.style.position="fixed",p.style.top="0",p.style.left="0",p.style.width="2em",p.style.height="2em",p.style.padding="0",p.style.border="none",p.style.outline="none",p.style.boxShadow="none",p.style.background="transparent",document.body.appendChild(p),p.focus(),p.select(),document.execCommand("copy"),document.body.removeChild(p)}const o=e.textContent,i=e.style.backgroundColor;e.textContent="ë³µì‚¬ë¨!",e.style.backgroundColor="#10b981",setTimeout(()=>{e.textContent=o,e.style.backgroundColor=i},1e3),n.notify({type:"positive",message:"ì½”ë“œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.",position:"top",timeout:1e3})}catch(o){console.error("í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:",o),n.notify({type:"negative",message:"ì½”ë“œ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",position:"top",timeout:2e3})}},fl=h(()=>W.value===0?0:B.value.length/W.value),J=h(()=>u.value!==W.value-1?!1:B.value.includes(u.value));h(()=>f.lessons.some((l,e)=>{if(f.isChapterLocked(e))return!0;for(let o=0;o<l.slides;o++)if(f.isSlideLocked(e,o))return!0;return!1}));const Je={"1-2":{pollId:"poll-1-2",result:"bar"},"1-3":{pollId:"poll-1-3",result:"bar"},"1-4":{pollId:"poll-1-4",result:"bar"},"1-5":{pollId:"poll-1-5",result:"bar"},"1-6":{pollId:"poll-1-6",result:"bar"}},se=D(null),de=h(()=>L.value==="student"),ae=h(()=>L.value==="admin"),yl=h(()=>{const l=Z.value[u.value];return l?`${l.lessonIndex}-${l.slideIndex}`:""}),z=h(()=>se.value||Je[yl.value]);pe([u,Z],async()=>{try{const l=Z.value[u.value];if(!l){se.value=null;return}const e=`/slides/slide-${l.lessonIndex}-${l.slideIndex}.md`,o=await fetch(e,{cache:"no-store"});if(!o.ok){se.value=null;return}const i=(await o.text()).toLowerCase();if(i.trim().startsWith("@poll")){const p=/@word|word\s*cloud|ì›Œë“œ/.test(i);se.value={pollId:`poll-${l.lessonIndex}-${l.slideIndex}`,result:p?"word":"bar"}}else se.value=null}catch{se.value=null}},{immediate:!0});const gl=async()=>{try{console.log("ğŸ” í•™ìƒ ëª¨ë“œ - ì§ì ‘ ë¡œê·¸ì¸ ì‹œì‘..."),await _(),console.log("âœ… í•™ìƒ ëª¨ë“œ - ì§ì ‘ ë¡œê·¸ì¸ ì™„ë£Œ")}catch(l){console.error("âŒ í•™ìƒ ëª¨ë“œ - ì§ì ‘ ë¡œê·¸ì¸ ì‹¤íŒ¨:",l),n.notify({type:"negative",message:"ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",position:"top",timeout:3e3})}},hl=()=>{b.value=!0},bl=l=>{console.log("ğŸ­ ê²ŒìŠ¤íŠ¸ ë¡œê·¸ì¸ ì„±ê³µ:",l),b.value=!1,n.notify({type:"positive",message:"ê²ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ ë¡œê·¸ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!",position:"top",timeout:2e3})},xl=()=>{b.value=!1,g.value=!0},Ye=async()=>{if(console.log("ğŸ“ í•™ìƒ ëª¨ë“œ - ê°•ì˜ ë¡œë“œ ì‹œì‘:",H.value),!H.value){console.warn("ğŸš« ê°•ì˜ IDê°€ ì—†ìŠµë‹ˆë‹¤."),n.notify({type:"negative",message:"ê°•ì˜ IDê°€ ì—†ìŠµë‹ˆë‹¤.",position:"top"});return}try{await f.initializeCourseOutline();const l=H.value||"ai-workshop";f.setCurrentCourseId(l);const e=await f.loadLockStatusFromFirestore(l);console.log("ğŸ”„ Firestore ì ê¸ˆ ë¡œë“œ ê²°ê³¼:",e),f.subscribeLockStatus(l),console.log("ğŸ“š ê°•ì˜ ë°ì´í„° ë¡œë“œ ì™„ë£Œ:",{lessonsCount:f.lessons.length,lessons:f.lessons.slice(0,3)});const o=parseInt(m.query.slide)||0;Z.value.length>0?o>=0&&o<Z.value.length?u.value=o:(u.value=0,console.log("ğŸ”’ URLì˜ ìŠ¬ë¼ì´ë“œ ì¸ë±ìŠ¤ê°€ ìœ íš¨í•˜ì§€ ì•Šì•„ ì²« ë²ˆì§¸ ìŠ¬ë¼ì´ë“œë¡œ ì´ë™")):(u.value=0,console.log("ğŸ”’ ì ê¸ˆ í•´ì œëœ ìŠ¬ë¼ì´ë“œê°€ ì—†ìŒ")),console.log("ğŸ“„ í˜„ì¬ ìŠ¬ë¼ì´ë“œ ì¸ë±ìŠ¤:",u.value),Cl()}catch(l){console.error("âŒ ê°•ì˜ ë¡œë“œ ì‹¤íŒ¨:",l),n.notify({type:"negative",message:"ê°•ì˜ ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",position:"top"})}},N=l=>{l>=0&&l<W.value?(u.value=l,kl()):console.warn(`ğŸš« ìŠ¬ë¼ì´ë“œ ì¸ë±ìŠ¤ ${l}ê°€ ë²”ìœ„ë¥¼ ë²—ì–´ë‚¨ (0-${W.value-1})`)},kl=()=>{console.log("ğŸ”„ ë¼ìš°íŠ¸ ì—…ë°ì´íŠ¸:",{courseId:H.value,slideIndex:u.value,path:`/study/${H.value}`,query:{slide:u.value.toString()}}),w.push({path:`/study/${H.value}`,query:{slide:u.value.toString()}})},Ke=async()=>{Be()&&(ue.value=!0)},wl=()=>{try{window.close(),setTimeout(()=>{n.notify({type:"info",message:"ë¸Œë¼ìš°ì € íƒ­ì„ ì§ì ‘ ë‹«ì•„ì£¼ì„¸ìš”.",position:"top",timeout:5e3})},1e3)}catch(l){console.error("ë¸Œë¼ìš°ì € ì¢…ë£Œ ì‹¤íŒ¨:",l),n.notify({type:"info",message:"ë¸Œë¼ìš°ì € íƒ­ì„ ì§ì ‘ ë‹«ì•„ì£¼ì„¸ìš”.",position:"top",timeout:5e3})}},ql=async()=>{try{ue.value=!1;const l=q.value||x.value?.name||"ì‚¬ìš©ì",e=d.value?.email||x.value?.email||"",o=r.value;await T(),w.push({path:"/logout",query:{name:l,email:e,isGuest:o.toString()}})}catch(l){console.error("ë¡œê·¸ì•„ì›ƒ ì˜¤ë¥˜:",l),n.notify({type:"negative",message:"ë¡œê·¸ì•„ì›ƒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",position:"top"})}},_l=async()=>{if(u.value!==W.value-1){n.notify({type:"warning",message:"ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œì—ì„œë§Œ í•™ìŠµ ì™„ë£Œë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",position:"top"});return}const l=u.value;if(J.value){const e=B.value.filter(o=>o!==l);B.value=e}else B.value.push(l),te.value=!0;Sl(),n.notify({type:J.value?"positive":"info",message:J.value?"í•™ìŠµ ì™„ë£Œ!":"í•™ìŠµ ì™„ë£Œ ì·¨ì†Œ",position:"top"})},Il=async l=>{console.log("ì„¤ë¬¸ì¡°ì‚¬ ë°ì´í„°:",l);try{const e=await mt.submitSurvey(l);if(!e.success)throw new Error(e.message);const o=`survey-data-${H.value}`,i={...l,submittedAt:new Date().toISOString(),courseId:H.value,userId:d.value?.uid,userEmail:d.value?.email};localStorage.setItem(o,JSON.stringify(i));const p=d.value?.email||x.value?.email,M=d.value?.displayName||x.value?.name||"í•™ìŠµì";if(p)try{const R=await vt.sendLearningCompletionEmail(p,M,"AI Workshop ê°•ì˜");R.success?n.notify({type:"positive",message:"í•™ìŠµ ì™„ë£Œ! ì¶•í•˜ ì´ë©”ì¼ì´ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.",position:"top"}):(console.warn("ì´ë©”ì¼ ì „ì†¡ ì‹¤íŒ¨:",R.message),n.notify({type:"warning",message:"ì´ë©”ì¼ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: "+R.message,position:"top"}))}catch(R){console.error("ì´ë©”ì¼ ì „ì†¡ ì˜¤ë¥˜:",R),n.notify({type:"negative",message:"ì´ë©”ì¼ ì „ì†¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",position:"top"})}else console.warn("ì´ë©”ì¼ ì£¼ì†Œê°€ ì—†ì–´ì„œ ì´ë©”ì¼ì„ ì „ì†¡í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");n.notify({type:"positive",message:"ì„¤ë¬¸ì¡°ì‚¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!",position:"top"})}catch(e){console.error("ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œ ì‹¤íŒ¨:",e),n.notify({type:"negative",message:"ì„¤ë¬¸ì¡°ì‚¬ ì œì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",position:"top"})}},$l=()=>{console.log("ì„¤ë¬¸ì¡°ì‚¬ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."),Be()&&(ue.value=!0)},Cl=()=>{try{const l=`completed-slides-${H.value}`,e=localStorage.getItem(l);e&&(B.value=JSON.parse(e))}catch(l){console.error("ì™„ë£Œëœ ìŠ¬ë¼ì´ë“œ ë¡œë“œ ì‹¤íŒ¨:",l),B.value=[]}},Sl=()=>{try{const l=`completed-slides-${H.value}`;localStorage.setItem(l,JSON.stringify(B.value))}catch(l){console.error("ì™„ë£Œëœ ìŠ¬ë¼ì´ë“œ ì €ì¥ ì‹¤íŒ¨:",l)}},Vl=l=>new Date(l).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),Se=D(!1),el=l=>{if(f.lessons.length!==0)switch(l.key){case"ArrowRight":case"ArrowDown":case"PageDown":case" ":l.preventDefault(),N(u.value+1);break;case"ArrowLeft":case"ArrowUp":case"PageUp":l.preventDefault(),N(u.value-1);break;case"Home":l.preventDefault(),N(0);break;case"End":l.preventDefault(),N(W.value-1);break;case"?":l.preventDefault(),Se.value=!Se.value;break}},Ll=async()=>{try{const l=z.value;if(!l)return;const e=E?ie(E):null;if(!e)return;const{getAuth:o}=await De(async()=>{const{getAuth:oe}=await Te(()=>Ae(()=>Ue(()=>Ee(()=>import("./QSpinnerDots-DmD6LJEW-mqbZkDZd-DEZvrJgm-Dz7aj0ta-DJp4I3dk.js"),__vite__mapDeps([0,1,2])),ge([0,1,2])),he([0,1,2])),be([0,1,2])).then(K=>K.i);return{getAuth:oe}},xe([0,1,2])),i=o(E).currentUser?.uid;if(!i)return;const p=de.value?`polls/${l.pollId}/votes/${i}`:`polls/${l.pollId}/userVotes/${i}`,M=await ye(G(e,p));if(!M.exists())return;const R=M.val(),Y=document.querySelector(".slide-viewer");if(!Y||!Y.contentWindow)return;typeof R=="string"&&/^\d+$/.test(R)?Y.contentWindow.postMessage({type:"poll-state",pollId:l.pollId,optionId:String(R)},"*"):R&&Y.contentWindow.postMessage({type:"poll-state",pollId:l.pollId,text:String(R)},"*")}catch(l){console.warn("âš ï¸ poll ìƒíƒœ ë™ê¸°í™” ì‹¤íŒ¨:",l)}},Dl=async()=>{try{if(!ae.value)return;const l=z.value;if(!l)return;const e=E?ie(E):null;if(!e)return;const o=G(e,`polls/${l.pollId}/meta`),i=(await ye(o)).val()||{};(!i.question||String(i.question).trim()==="")&&(await Me(o,{...i,question:ce.value}),console.log("ğŸ“ meta.question ë³´ê°•:",l.pollId,ce.value))}catch(l){console.warn("âš ï¸ meta.question ë³´ê°• ì‹¤íŒ¨:",l)}};Xe(async()=>{$(),await Ye(),document.addEventListener("keydown",el);const l=E?ie(E):null,e=async o=>{try{const i=o.data||{};if(i&&typeof i.type=="string"){if(i.type==="slide-next"){N(u.value+1);return}else if(i.type==="slide-prev"){N(u.value-1);return}else if(i.type==="slide-first"){N(0);return}else if(i.type==="slide-last"){N(W.value-1);return}}if(!i||i.type!=="poll-vote"||!l||L.value!=="student")return;const{pollId:p,optionId:M,text:R}=i,Y=(await De(async()=>{const{getAuth:X}=await Te(()=>Ae(()=>Ue(()=>Ee(()=>import("./QSpinnerDots-DmD6LJEW-mqbZkDZd-DEZvrJgm-Dz7aj0ta-DJp4I3dk.js"),__vite__mapDeps([0,1,2])),ge([0,1,2])),he([0,1,2])),be([0,1,2])).then(Ve=>Ve.i);return{getAuth:X}},xe([0,1,2]))).getAuth(E).currentUser?.uid;if(!Y||!p)return;const oe=G(l,`polls/${p}/votes/${Y}`);if((await ye(oe)).exists())return;const K=R||String(M);await Me(oe,K),console.log("ğŸ—³ï¸ parent saved:",{pollId:p,value:K})}catch(i){console.warn("ğŸ—³ï¸ parent save failed:",i)}};window.addEventListener("message",e),ke(()=>{window.removeEventListener("message",e)})}),ke(()=>{document.removeEventListener("keydown",el)}),pe(()=>m.params.courseId,l=>{l&&Ye()},{immediate:!0}),pe(()=>m.query.slide,l=>{if(l&&f.lessons.length>0){const e=parseInt(l)||0;u.value=Math.min(e,W.value-1)}}),pe(()=>f.lessons.map(l=>l?.slides).join(","),async()=>{try{const l=H.value||"ai-workshop";await f.loadLockStatusFromFirestore(l),console.log("ğŸ”’ StudentView: lessons ê°±ì‹  â†’ Firestore ì ê¸ˆ ì¬ì ìš© ì™„ë£Œ")}catch(l){console.warn("âš ï¸ StudentView: Firestore ì ê¸ˆ ì¬ì ìš© ì‹¤íŒ¨(ë¬´ì‹œ ê°€ëŠ¥):",l)}},{immediate:!1});const Tl=l=>{const e=`/#/poll-result?pollId=${encodeURIComponent(l)}`;window.open(e,"_blank","noopener,noreferrer,width=520,height=420")},Al=async l=>{try{if(!ae.value||!await n.dialog({title:"ê²°ê³¼ ì´ˆê¸°í™”",message:`í•´ë‹¹ íˆ¬í‘œì˜ ë‚˜ì˜ ì„ íƒ(LocalStorage)ê³¼ RTDBì˜ í‘œê¸°ë¥¼ ì‚­ì œí• ê¹Œìš”?
ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`,cancel:!0,ok:{label:"ì´ˆê¸°í™”",color:"negative"}}).onOk(()=>!0).onCancel(()=>!1))return;try{Object.keys(localStorage).filter(o=>o.toLowerCase().includes("poll")).forEach(o=>localStorage.removeItem(o))}catch{}const e=E?ie(E):null;if(e){const{getAuth:o}=await De(async()=>{const{getAuth:p}=await Te(()=>Ae(()=>Ue(()=>Ee(()=>import("./QSpinnerDots-DmD6LJEW-mqbZkDZd-DEZvrJgm-Dz7aj0ta-DJp4I3dk.js"),__vite__mapDeps([0,1,2])),ge([0,1,2])),he([0,1,2])),be([0,1,2])).then(M=>M.i);return{getAuth:p}},xe([0,1,2])),i=o(E).currentUser?.uid;i&&await Bl(G(e,`polls/${l}/userVotes/${i}`)).catch(()=>{})}n.notify({type:"positive",message:"íˆ¬í‘œ ê²°ê³¼ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.",position:"top"});try{document.querySelector(".slide-viewer")?.contentWindow?.postMessage({type:"poll-state",pollId:l,optionId:""},"*")}catch{}}catch{n.notify({type:"negative",message:"ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",position:"top"})}},U=D({visible:!1,question:"",options:[],correctIndex:null,answerText:"",lastChoice:null,isOX:!1,revealed:!1}),Ul=()=>{try{const l=document.querySelector(".slide-viewer");if(!l||!l.contentDocument)return null;const e=l.contentDocument;if(!e.body.classList.contains("quiz-slide"))return null;const o=(e.querySelector(".quiz-question")?.textContent||"").trim(),i=Array.from(e.querySelectorAll(".quiz-option")).map(X=>(X.textContent||"").replace(/^\d+\.\s*/,"").trim()),p=(e.getElementById("quiz-answer-data")?.textContent||"").trim(),M=i.map(X=>X.replace(/\s+/g,"")),R=M[0]??"",Y=M[1]??"",oe=M.length===2&&(/^(ë§ë‹¤|ê·¸ë ‡ë‹¤|O)$/i.test(R)||/^(ì•„ë‹ˆë‹¤|ì•„ë‹ˆì˜¤|ê·¸ë ‡ì§€ì•Šë‹¤|X)$/i.test(Y))||/ì •ë‹µ\s*[:\-â€“]?\s*[OX]/i.test(p);let K=null;if(oe){const X=/ì •ë‹µ\s*[:\-â€“]?\s*O/i.test(p),Ve=/ì •ë‹µ\s*[:\-â€“]?\s*X/i.test(p);X?K=1:Ve&&(K=2)}else{const X=p.match(/(^|\D)(\d+)(?=\D|$)/);K=X?Number(X[2]):null}return{question:o,options:i,correctIndex:K,answerText:p,isOX:!!oe}}catch{return null}},El=async()=>{const l=Ul();if(!l||!l.question||l.options.length===0){U.value={visible:!1,question:"",options:[],correctIndex:null,answerText:"",lastChoice:null,isOX:!1,revealed:!1};return}U.value={visible:!0,question:l.question,options:l.options,correctIndex:l.correctIndex,answerText:l.answerText,lastChoice:null,isOX:l.isOX,revealed:!1}},Ol=l=>{U.value.visible&&(U.value.lastChoice=l,U.value.revealed=!0)};return(l,e)=>(c(),Q(ut,{view:"hHh LpR fFf"},{default:v(()=>[!fe.value||S(y)||S(r)?(c(),Q(et,{key:0,modelValue:C.value,"onUpdate:modelValue":e[0]||(e[0]=o=>C.value=o),"show-if-above":"",bordered:"",class:"bg-grey-1",width:300},{default:v(()=>[s(lt,{class:"fit"},{default:v(()=>[a("div",Jt,[e[24]||(e[24]=a("div",{class:"text-h6 text-weight-bold q-mb-md"},"ğŸ“š AI Workshop ê°•ì˜",-1)),a("div",Yt,[e[19]||(e[19]=a("div",{class:"text-subtitle2 text-weight-medium q-mb-sm"},"ğŸ“– ê°•ì˜ ì •ë³´",-1)),s(me,{flat:"",bordered:""},{default:v(()=>[s(le,null,{default:v(()=>[e[18]||(e[18]=a("div",{class:"text-body2"}," AI Workshop ê°•ì˜ì…ë‹ˆë‹¤. ë§ˆí¬ë‹¤ìš´ ìŠ¬ë¼ì´ë“œë¥¼ HTMLë¡œ ë³€í™˜í•˜ì—¬ í•™ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ",-1)),a("div",Kt,[s(ee,{name:"person",size:"xs"}),e[17]||(e[17]=j(" AI Workshop ",-1))]),a("div",ea,[s(ee,{name:"schedule",size:"xs"}),j(" "+V(Vl(new Date().toISOString())),1)])]),_:1,__:[18]})]),_:1})]),e[25]||(e[25]=a("div",{class:"text-subtitle2 text-weight-medium q-mb-sm"},"ğŸ“– ê°•ì˜ ëª©ì°¨",-1)),s(Gl,null,{default:v(()=>[(c(!0),k(we,null,qe(Z.value,(o,i)=>(c(),Q(Zl,{key:i,clickable:"",active:i===u.value,onClick:p=>N(i),class:"q-mb-sm"},{default:v(()=>[s(ze,{avatar:""},{default:v(()=>[s(ee,{name:(u.value,"slideshow"),color:i===u.value?"primary":"grey",size:"sm"},null,8,["name","color"])]),_:2},1024),s(ze,null,{default:v(()=>[s(Jl,null,{default:v(()=>[j(V(o.title),1)]),_:2},1024)]),_:2},1024),s(ze,{side:""},{default:v(()=>[B.value.includes(i)?(c(),Q(ee,{key:0,name:"check_circle",color:"positive",size:"sm"})):I("",!0)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1}),a("div",la,[e[20]||(e[20]=a("div",{class:"text-subtitle2 text-weight-medium q-mb-sm"},"ğŸ“Š í•™ìŠµ ì§„í–‰ë¥ ",-1)),s(He,{value:fl.value,color:"primary",class:"q-mb-sm"},null,8,["value"]),a("div",ta,V(B.value.length)+" / "+V(W.value)+" ìŠ¬ë¼ì´ë“œ ì™„ë£Œ ",1)]),a("div",aa,[e[23]||(e[23]=a("div",{class:"text-subtitle2 text-weight-medium q-mb-sm"},"ğŸ“ˆ í•™ìŠµ í†µê³„",-1)),s(me,{flat:"",bordered:""},{default:v(()=>[s(le,null,{default:v(()=>[a("div",oa,[a("div",sa,[a("div",na,V(W.value),1),e[21]||(e[21]=a("div",{class:"text-caption"},"ì „ì²´ ìŠ¬ë¼ì´ë“œ",-1))]),a("div",ia,[a("div",ra,V(J.value?1:0),1),e[22]||(e[22]=a("div",{class:"text-caption"},"í•™ìŠµ ì™„ë£Œ",-1))])]),a("div",ua,[s(He,{value:J.value?1:0,color:"positive",class:"q-mt-xs"},null,8,["value"]),a("div",ca,V(J.value?"í•™ìŠµ ì™„ë£Œ!":"ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œì—ì„œ ì™„ë£Œ ê°€ëŠ¥"),1)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["modelValue"])):I("",!0),s(rt,null,{default:v(()=>[fe.value&&!S(y)&&!S(r)?(c(),k("div",da,[a("div",va,[s(ee,{name:"school",size:"100px",color:"primary",class:"q-mb-lg"}),e[26]||(e[26]=a("div",{class:"text-h4 text-weight-bold q-mb-md"},"í•™ìŠµì„ ìœ„í•´ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤",-1)),e[27]||(e[27]=a("div",{class:"text-body1 text-grey-7 q-mb-lg"}," AI Workshop ê°•ì˜ë¥¼ ìˆ˜ê°•í•˜ë ¤ë©´ Google ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ê±°ë‚˜ ê²ŒìŠ¤íŠ¸ ëª¨ë“œë¥¼ ì´ìš©í•˜ì„¸ìš”. ",-1)),a("div",pa,[s(A,{color:"primary",icon:"login",label:"Googleë¡œ ë¡œê·¸ì¸",size:"lg",onClick:gl}),s(A,{color:"orange",icon:"person",label:"ê²ŒìŠ¤íŠ¸ ëª¨ë“œ",size:"lg",onClick:hl})])])])):(c(),Q(it,{key:1,class:"q-pa-sm"},{default:v(()=>[a("div",ma,[a("div",fa,[a("div",ya,V(S(f).lessons.length>0?"AI Workshop ê°•ì˜":"ê°•ì˜ ë¡œë”© ì¤‘..."),1),a("div",ga,V(ce.value),1)]),a("div",ha,[a("div",ba,[S(y)?(c(),k("div",xa,[s(Re,{color:"secondary","text-color":"white",icon:"person",label:S(q)},null,8,["label"])])):S(r)?(c(),k("div",ka,[s(Re,{color:"orange","text-color":"white",icon:"person",label:S(x)?.name||"ê²ŒìŠ¤íŠ¸"},null,8,["label"])])):I("",!0),S(Be)()?(c(),k("div",wa,[s(A,{flat:"",round:"",dense:"",icon:"logout",color:"grey-7",onClick:Ke},{default:v(()=>[s(ve,null,{default:v(()=>e[28]||(e[28]=[j("í•™ìŠµ ì¢…ë£Œ",-1)])),_:1,__:[28]})]),_:1})])):fe.value&&(S(y)||S(r))?(c(),k("div",qa,[s(A,{flat:"",round:"",dense:"",icon:S(O)?void 0:"logout",color:"grey-7",onClick:Ke},{default:v(()=>[S(O)?(c(),Q(Le,{key:0,size:"24px",class:"q-mr-xs"},{default:v(()=>[a("img",{src:S(O),alt:S(q)},null,8,_a)]),_:1})):I("",!0),s(ve,null,{default:v(()=>[j(V(S(q)||S(x)?.name||"ì‚¬ìš©ì")+" (ë¡œê·¸ì•„ì›ƒ)",1)]),_:1})]),_:1},8,["icon"])])):I("",!0),a("div",Ia,[s(Re,{color:"primary","text-color":"white",icon:"school",label:"í•™ìŠµ ëª¨ë“œ"})])])])]),Se.value?(c(),Q(st,{key:0,class:"bg-info text-white q-mb-md",rounded:""},{avatar:v(()=>[s(ee,{name:"keyboard"})]),default:v(()=>[e[29]||(e[29]=a("div",{class:"text-body2"},[a("strong",null,"í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤:"),a("br"),j(" â† â†’ : ì´ì „/ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ | â†‘ â†“ : ì´ì „/ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ"),a("br"),j(" Home/End : ì²«/ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œ | Space : ë‹¤ìŒ ìŠ¬ë¼ì´ë“œ"),a("br"),j(" ? : ì´ ë„ì›€ë§ í† ê¸€ ")],-1))]),_:1,__:[29]})):I("",!0),a("div",$a,[Ce.value?(c(),k("div",Ca,[a("iframe",{src:Ce.value,class:"slide-viewer",onLoad:pl},null,40,Sa),U.value.visible?(c(),k("div",{key:0,class:"quiz-overlay",onClick:e[1]||(e[1]=ne(()=>{},["stop"]))},[a("div",Va,[a("div",La,V(U.value.question),1),a("div",Da,[(c(!0),k(we,null,qe(U.value.options,(o,i)=>(c(),k("div",{class:"col-12 col-sm-6",key:i},[s(A,{outline:"",rounded:"",size:"lg",class:"full-width text-left option-btn",label:i+1+". "+o,onClick:ne(p=>Ol(i+1),["stop"])},null,8,["label","onClick"])]))),128))]),U.value.revealed&&U.value.answerText?(c(),k("div",Ta,[U.value.revealed&&U.value.correctIndex&&U.value.lastChoice?(c(),k("div",Aa,V(U.value.lastChoice===U.value.correctIndex?"ì •ë‹µì…ë‹ˆë‹¤! âœ…":"ì˜¤ë‹µì…ë‹ˆë‹¤. âŒ"),1)):I("",!0),a("div",Ua,[U.value.isOX?I("",!0):(c(),k("div",Ea,[e[30]||(e[30]=a("b",null,"ì •ë‹µ:",-1)),j(" "+V(U.value.correctIndex),1)])),a("div",{innerHTML:U.value.answerText.replace(/\n/g,"<br/>")},null,8,Oa)])])):I("",!0)])])):I("",!0),z.value&&de.value&&F.value?(c(),k("div",{key:1,class:"iframe-blocker",onClick:e[2]||(e[2]=ne(()=>{},["stop"]))})):I("",!0),z.value&&de.value&&F.value?(c(),k("div",{key:2,class:"poll-overlay",onClick:e[3]||(e[3]=ne(()=>{},["stop"]))},[s(Ft,{"poll-id":z.value.pollId},null,8,["poll-id"])])):z.value&&ae.value&&z.value.result==="bar"?(c(),k("div",{key:3,class:"poll-overlay",onClick:e[4]||(e[4]=ne(()=>{},["stop"]))},[s(bt,{"poll-id":z.value.pollId},null,8,["poll-id"])])):z.value&&ae.value&&z.value.result==="word"?(c(),k("div",{key:4,class:"poll-overlay",onClick:e[5]||(e[5]=ne(()=>{},["stop"]))},[s(Zt,{"poll-id":z.value.pollId},null,8,["poll-id"])])):I("",!0),z.value&&de.value&&!F.value?(c(),Q(A,{key:5,class:"poll-fab",round:"",color:"primary",icon:"how_to_vote",onClick:e[6]||(e[6]=o=>F.value=!0)},{default:v(()=>[s(ve,null,{default:v(()=>e[31]||(e[31]=[j("íˆ¬í‘œí•˜ê¸°",-1)])),_:1,__:[31]})]),_:1})):I("",!0),z.value&&ae.value?(c(),Q(A,{key:6,class:"poll-fab q-mr-md",round:"",color:"secondary",icon:"insights",onClick:e[7]||(e[7]=o=>Tl(z.value.pollId)),style:{right:"80px"}},{default:v(()=>[s(ve,null,{default:v(()=>e[32]||(e[32]=[j("ê²°ê³¼ ë³´ê¸°",-1)])),_:1,__:[32]})]),_:1})):I("",!0),z.value&&ae.value?(c(),Q(A,{key:7,class:"poll-fab q-mr-md",round:"",color:"negative",icon:"delete",onClick:e[8]||(e[8]=o=>Al(z.value.pollId)),style:{right:"140px"}},{default:v(()=>[s(ve,null,{default:v(()=>e[33]||(e[33]=[j("ê²°ê³¼ ì´ˆê¸°í™”",-1)])),_:1,__:[33]})]),_:1})):I("",!0)])):(c(),k("div",za,[s(nt,{size:"50px",color:"primary"}),e[34]||(e[34]=a("div",{class:"text-h6 q-mt-md"},"ìŠ¬ë¼ì´ë“œë¥¼ ë¡œë”©í•˜ëŠ” ì¤‘...",-1))]))])]),_:1}))]),_:1}),!fe.value||S(y)||S(r)?(c(),Q(il,{key:1,position:"bottom",offset:[0,0]},{default:v(()=>[a("div",Ra,[a("div",Ba,[a("div",Wa,[s(A,{round:"",size:"lg",icon:"chevron_left",color:"blue","text-color":"white",disable:u.value===0,onClick:e[9]||(e[9]=o=>N(u.value-1))},null,8,["disable"])]),a("div",ja,[a("div",Qa,[a("div",Ma,V(u.value+1),1),a("div",Fa,V(ce.value),1)])]),u.value===W.value-1?(c(),k("div",Pa,[s(A,{color:J.value?"positive":"primary",icon:J.value?"check_circle":"done",label:J.value?"ì™„ë£Œë¨":"í•™ìŠµ ì™„ë£Œ",onClick:_l,size:"md"},null,8,["color","icon","label"])])):I("",!0),a("div",Ha,[s(A,{round:"",size:"lg",icon:"chevron_right",color:"blue","text-color":"white",disable:u.value===W.value-1,onClick:e[10]||(e[10]=o=>N(u.value+1))},null,8,["disable"])])])])]),_:1})):I("",!0),s(il,{position:"bottom-right",offset:[18,80]},{default:v(()=>[s(A,{fab:"",icon:"menu",color:"primary",onClick:e[11]||(e[11]=o=>C.value=!C.value)})]),_:1}),s(Fe,{modelValue:re.value,"onUpdate:modelValue":e[12]||(e[12]=o=>re.value=o),persistent:""},{default:v(()=>[s(me,{style:{"min-width":"350px"}},{default:v(()=>[s(le,{class:"row items-center"},{default:v(()=>[s(Le,{icon:"exit_to_app",color:"primary","text-color":"white"}),a("span",Na,V(vl.value),1)]),_:1}),s(le,null,{default:v(()=>e[35]||(e[35]=[a("p",null,"í™”ë©´ì„ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",-1)])),_:1,__:[35]}),s(Pe,{align:"right"},{default:v(()=>[tl(s(A,{flat:"",label:"ì•„ë‹ˆì˜¤",color:"grey"},null,512),[[nl]]),s(A,{unelevated:"",label:"ì˜ˆ",color:"primary",onClick:wl})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(Fe,{modelValue:ue.value,"onUpdate:modelValue":e[13]||(e[13]=o=>ue.value=o),persistent:""},{default:v(()=>[s(me,{style:{"min-width":"400px"}},{default:v(()=>[s(le,{class:"row items-center"},{default:v(()=>[s(Le,{icon:"logout",color:"orange","text-color":"white"}),e[36]||(e[36]=a("span",{class:"q-ml-sm text-h6"},"ë¡œê·¸ì•„ì›ƒ í™•ì¸",-1))]),_:1,__:[36]}),s(le,null,{default:v(()=>[a("div",Xa,[a("strong",null,V(S(q)||S(x)?.name||"ì‚¬ìš©ì"),1),e[37]||(e[37]=j("ë‹˜, ì •ë§ë¡œ ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ",-1))]),e[38]||(e[38]=a("div",{class:"text-caption text-grey-7"},"ë¡œê·¸ì•„ì›ƒí•˜ë©´ í˜„ì¬ í•™ìŠµ ì§„í–‰ ìƒí™©ì´ ì €ì¥ë©ë‹ˆë‹¤.",-1))]),_:1,__:[38]}),s(Pe,{align:"right"},{default:v(()=>[tl(s(A,{flat:"",label:"ì·¨ì†Œ",color:"grey"},null,512),[[nl]]),s(A,{unelevated:"",label:"ë¡œê·¸ì•„ì›ƒ",color:"orange",onClick:ql})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(tt,{modelValue:g.value,"onUpdate:modelValue":e[14]||(e[14]=o=>g.value=o)},null,8,["modelValue"]),s(at,{modelValue:b.value,"onUpdate:modelValue":e[15]||(e[15]=o=>b.value=o),onGuestLoginSuccess:bl,onGoogleLoginRequest:xl},null,8,["modelValue"]),s(Ot,{modelValue:te.value,"onUpdate:modelValue":e[16]||(e[16]=o=>te.value=o),onSubmit:Il,onCompleted:$l},null,8,["modelValue"])]),_:1}))}}),vo=$e(Ga,[["__scopeId","data-v-4f817430"]]);export{vo as default};
